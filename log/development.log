Started GET "/" for 127.0.0.1 at 2020-01-09 18:59:51 -0300
  [1m[35m (1.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 10.3ms | Allocations: 472)
Completed 200 OK in 28ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 2773)


Started GET "/" for 127.0.0.1 at 2020-01-09 18:59:59 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 13.2ms | Allocations: 185)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 841)


Started GET "/home" for 127.0.0.1 at 2020-01-09 19:00:13 -0300
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 81)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nacho/tpi_rails/public/packs
[Webpacker] Hash: 53154d7baad00c6a1252
Version: webpack 4.41.2
Time: 1784ms
Built at: 2020-01-09 7:00:16 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-0b67a3cc2fcde6055024.js    124 KiB  application  [emitted] [immutable]  application
js/application-0b67a3cc2fcde6055024.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-0b67a3cc2fcde6055024.js js/application-0b67a3cc2fcde6055024.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 3285ms (Views: 3283.4ms | ActiveRecord: 0.0ms | Allocations: 14583)


  [1m[35m (26.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20200109232817)
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` varchar(255), `cost_per_unit` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (2.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200109232817')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-09 23:52:27.198804', '2020-01-09 23:52:27.198804')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from <main> at bin/rails:4)
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from <main> at bin/rails:4)
  [1m[35m (32.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateItems (20200112190834)
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200112190834')[0m
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddItemToProduct (20200112191324)
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE `products` ADD `item_id` bigint NOT NULL[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE  INDEX `index_products_on_item_id`  ON `products` (`item_id`) [0m
  [1m[35m (49.3ms)[0m  [1m[35mALTER TABLE `products` ADD CONSTRAINT `fk_rails_9b1d14cd4c`
FOREIGN KEY (`item_id`)
  REFERENCES `items` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200112191324')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddItemToProduct (20200112191324)
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE `products` DROP FOREIGN KEY fk_rails_9b1d14cd4c[0m
  [1m[35m (11.8ms)[0m  [1m[35mALTER TABLE `products` DROP COLUMN `item_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (4.6ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200112191324'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToItem (20200112195205)
  [1m[35m (133.5ms)[0m  [1m[35mALTER TABLE `items` ADD `product_id` bigint NOT NULL[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE  INDEX `index_items_on_product_id`  ON `items` (`product_id`) [0m
  [1m[35m (49.7ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200112195205')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (13.6ms)[0m  [1m[32mINSERT INTO `products` (`code`, `description`, `detail`, `cost_per_unit`, `created_at`, `updated_at`) VALUES ('asd123456', 'a description', 'a detail', 100, '2020-01-12 23:17:59.691244', '2020-01-12 23:17:59.691244')[0m
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Started GET "/productos" for ::1 at 2020-01-13 14:27:38 -0300
  
Mysql2::Error::ConnectionError (Can't connect to local MySQL server through socket '/opt/lampp/var/mysql/mysql.sock' (111)):
  
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `initialize'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/productos" for ::1 at 2020-01-13 14:28:12 -0300
  [1m[35m (10.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/productos"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2020-01-13 14:28:34 -0300
Processing by ProductsController#index as */*
  Rendering products/index.html.erb
  [1m[36mProduct Load (3.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  Rendered products/index.html.erb (Duration: 793.3ms | Allocations: 309145)
Completed 500 Internal Server Error in 804ms (ActiveRecord: 8.2ms | Allocations: 311977)


  
ActionView::Template::Error (undefined local variable or method `notice' for #<#<Class:0x00007f0e28779a88>:0x00007f0e2878bcb0>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <h1>Products</h1>
    4: 
  
app/views/products/index.html.erb:1
Started GET "/products" for ::1 at 2020-01-13 14:31:22 -0300
Processing by ProductsController#index as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1549)


  
ArgumentError (too few arguments):
  
app/controllers/products_controller.rb:8:in `format'
app/controllers/products_controller.rb:8:in `index'
Started GET "/products" for ::1 at 2020-01-13 14:33:24 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/products_controller.rb:8: syntax error, unexpected ':', expecting '}'
      render {json: @products}
                  ^
/home/nacho/tpi_rails/app/controllers/products_controller.rb:75: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/products_controller.rb:8: syntax error, unexpected ':', expecting '}'
app/controllers/products_controller.rb:75: syntax error, unexpected end-of-input, expecting end
app/controllers/products_controller.rb:8: syntax error, unexpected ':', expecting '}'
app/controllers/products_controller.rb:75: syntax error, unexpected end-of-input, expecting end
app/controllers/products_controller.rb:8: syntax error, unexpected ':', expecting '}'
app/controllers/products_controller.rb:75: syntax error, unexpected end-of-input, expecting end
Started GET "/products" for ::1 at 2020-01-13 14:35:24 -0300
Processing by ProductsController#index as */*
  Rendering products/index.html.erb
  [1m[36mProduct Load (8.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  Rendered products/index.html.erb (Duration: 877.0ms | Allocations: 308274)
Completed 500 Internal Server Error in 881ms (ActiveRecord: 10.7ms | Allocations: 309865)


  
ActionView::Template::Error (undefined local variable or method `notice' for #<#<Class:0x00007f0e28c86ff8>:0x00007f0e28c85720>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <h1>Products</h1>
    4: 
  
app/views/products/index.html.erb:1
Started GET "/products" for ::1 at 2020-01-13 14:35:40 -0300
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  Rendered collection of products/_product.json.jbuilder [1 times] (Duration: 3.4ms | Allocations: 273)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 1.4ms | Allocations: 7170)


Started GET "/products/1.json" for ::1 at 2020-01-13 16:18:35 -0300
  [1m[35m (55.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (56.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:68:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 1.5ms | Allocations: 168)
  Rendered products/show.json.jbuilder (Duration: 4.9ms | Allocations: 532)
Completed 200 OK in 167ms (Views: 7.0ms | ActiveRecord: 56.8ms | Allocations: 3791)


Started GET "/products/1" for ::1 at 2020-01-13 16:19:00 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:68:in `set_product'
  Rendering products/show.html.erb
  Rendered products/show.html.erb (Duration: 618.5ms | Allocations: 283997)
Completed 500 Internal Server Error in 621ms (ActiveRecord: 0.5ms | Allocations: 284971)


  
ActionView::Template::Error (undefined local variable or method `notice' for #<#<Class:0x00005616740f6fa0>:0x0000561675b3bca8>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <%= link_to 'Edit', edit_product_path(@product) %> |
    4: <%= link_to 'Back', products_path %>
  
app/views/products/show.html.erb:1
Started GET "/products.json" for ::1 at 2020-01-13 16:27:58 -0300
  [1m[35m (70.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as JSON
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (65.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 2.5ms | Allocations: 174)
  Rendered products/index.json.jbuilder (Duration: 81.3ms | Allocations: 5580)
Completed 200 OK in 97ms (Views: 17.5ms | ActiveRecord: 65.7ms | Allocations: 7289)


Started GET "/products/show" for ::1 at 2020-01-13 16:28:36 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"show"}
  [1m[36mProduct Load (15.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = NULL LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:67:in `set_product'
Completed 404 Not Found in 61ms (ActiveRecord: 15.3ms | Allocations: 1031)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=show):
  
app/controllers/products_controller.rb:67:in `set_product'
Started GET "/products/1" for ::1 at 2020-01-13 16:28:41 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (9.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb
  Rendered products/show.html.erb (Duration: 1786.2ms | Allocations: 283870)
Completed 500 Internal Server Error in 1814ms (ActiveRecord: 9.0ms | Allocations: 284655)


  
ActionView::Template::Error (undefined local variable or method `notice' for #<#<Class:0x00007f0e28bffc38>:0x00007f0e29f500a8>):
    1: <p id="notice"><%= notice %></p>
    2: 
    3: <%= link_to 'Edit', edit_product_path(@product) %> |
    4: <%= link_to 'Back', products_path %>
  
app/views/products/show.html.erb:1
Started GET "/products/1.json" for ::1 at 2020-01-13 16:28:48 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 0.3ms | Allocations: 97)
  Rendered products/show.json.jbuilder (Duration: 0.8ms | Allocations: 265)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.6ms | Allocations: 1055)


Started GET "/products/1" for ::1 at 2020-01-13 16:58:53 -0300
  [1m[35m (52.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (60.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:46:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 3.4ms | Allocations: 170)
  Rendered products/show.json.jbuilder (Duration: 7.4ms | Allocations: 576)
Completed 200 OK in 154ms (Views: 9.9ms | ActiveRecord: 60.0ms | Allocations: 7405)


Started GET "/products" for ::1 at 2020-01-13 16:59:01 -0300
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (4.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 1.3ms | Allocations: 170)
  Rendered products/index.json.jbuilder (Duration: 13.7ms | Allocations: 1247)
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 4.4ms | Allocations: 1656)


Started GET "/products" for ::1 at 2020-01-13 17:19:14 -0300
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 11.8ms | Allocations: 173)
  Rendered products/index.json.jbuilder (Duration: 60.6ms | Allocations: 5595)
Completed 200 OK in 83ms (Views: 59.7ms | ActiveRecord: 3.9ms | Allocations: 7387)


Started GET "/products/1" for ::1 at 2020-01-13 17:19:20 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:47:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 2.6ms | Allocations: 167)
  [1m[36mItem Load (22.1ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/views/products/show.json.jbuilder:2
  Rendered products/show.json.jbuilder (Duration: 134.6ms | Allocations: 2711)
Completed 200 OK in 211ms (Views: 33.9ms | ActiveRecord: 102.7ms | Allocations: 8129)


Started GET "/products/1" for 127.0.0.1 at 2020-01-13 17:19:52 -0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:47:in `set_product'
Completed 406 Not Acceptable in 15ms (ActiveRecord: 0.5ms | Allocations: 1724)


  
ActionController::UnknownFormat (ProductsController#show is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []):
  
actionpack (6.0.1) lib/action_controller/metal/implicit_render.rb:42:in `default_render'
actionpack (6.0.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:196:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.1) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/1" for ::1 at 2020-01-13 17:20:18 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:47:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 5.5ms | Allocations: 98)
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/views/products/show.json.jbuilder:2
  Rendered products/show.json.jbuilder (Duration: 18.4ms | Allocations: 1001)
Completed 200 OK in 23ms (Views: 19.0ms | ActiveRecord: 1.6ms | Allocations: 1859)


Started GET "/products/1" for ::1 at 2020-01-13 17:22:44 -0300
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:47:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 0.3ms | Allocations: 97)
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/views/products/show.json.jbuilder:2
  Rendered products/show.json.jbuilder (Duration: 27.0ms | Allocations: 7352)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 2.5ms | Allocations: 8168)


Started GET "/products/1" for ::1 at 2020-01-13 17:56:00 -0300
  
NoMethodError (undefined method `jsonapi_resources' for #<ActionDispatch::Routing::Mapper:0x00007f0e2c2f0c88>):
  
config/routes.rb:4:in `block in <main>'
config/routes.rb:1:in `<main>'
DEPRECATION WARNING: Id without format is no longer supported. Please remove ids from attributes, or specify a format. (called from <class:ProductResource> at /home/nacho/tpi_rails/app/resources/product_resource.rb:2)
Started GET "/products/1" for ::1 at 2020-01-14 12:20:38 -0300
  [1m[35m (25.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:46:in `set_product'
  Rendering products/show.json.jbuilder
  Rendered products/_product.json.jbuilder (Duration: 0.9ms | Allocations: 193)
  Rendered products/show.json.jbuilder (Duration: 3.9ms | Allocations: 727)
Completed 200 OK in 30ms (Views: 7.5ms | ActiveRecord: 5.0ms | Allocations: 9274)


Started GET "/products" for ::1 at 2020-01-14 12:21:02 -0300
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 3.1ms | Allocations: 170)
  Rendered products/index.json.jbuilder (Duration: 7.9ms | Allocations: 1263)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.5ms | Allocations: 1679)


Started GET "/products.json" for ::1 at 2020-01-14 12:21:07 -0300
Processing by ProductsController#index as JSON
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (5.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.4ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 22.7ms | Allocations: 1102)
Completed 200 OK in 24ms (Views: 17.3ms | ActiveRecord: 5.9ms | Allocations: 1457)


Started GET "/products.json" for ::1 at 2020-01-14 12:21:19 -0300
Processing by ProductsController#index as JSON
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.3ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 12.2ms | Allocations: 980)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 1.3ms | Allocations: 1208)


Started GET "/products" for ::1 at 2020-01-14 12:21:36 -0300
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.3ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 9.2ms | Allocations: 989)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.9ms | Allocations: 1232)


Started GET "/products" for ::1 at 2020-01-14 12:23:38 -0300
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 18ms (Views: 9.7ms | ActiveRecord: 3.7ms | Allocations: 6489)


Started GET "/products" for ::1 at 2020-01-14 15:58:15 -0300
  [1m[35m (40.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (6.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.5ms | Allocations: 196)
  Rendered products/index.json.jbuilder (Duration: 46.8ms | Allocations: 6213)
Completed 200 OK in 69ms (Views: 47.1ms | ActiveRecord: 10.7ms | Allocations: 9001)


Started GET "/products.json" for ::1 at 2020-01-14 15:59:49 -0300
Processing by ProductsController#index as JSON
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.4ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 3.3ms | Allocations: 1102)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.7ms | Allocations: 1457)


Started GET "/products.json" for ::1 at 2020-01-14 16:22:35 -0300
  [1m[35m (58.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as JSON
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (34.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 3.8ms | Allocations: 105)
  Rendered products/index.json.jbuilder (Duration: 83.6ms | Allocations: 5325)
Completed 200 OK in 90ms (Views: 51.8ms | ActiveRecord: 34.7ms | Allocations: 6904)


Started GET "/products" for ::1 at 2020-01-14 16:22:40 -0300
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.4ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 6.0ms | Allocations: 987)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 1.1ms | Allocations: 1208)


Started GET "/products" for ::1 at 2020-01-14 16:22:44 -0300
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 1.6ms | Allocations: 98)
  Rendered products/index.json.jbuilder (Duration: 20.9ms | Allocations: 987)
Completed 200 OK in 28ms (Views: 20.8ms | ActiveRecord: 1.0ms | Allocations: 1211)


Started GET "/products" for ::1 at 2020-01-14 16:23:02 -0300
  [1m[35m (1.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 2.9ms | Allocations: 196)
  Rendered products/index.json.jbuilder (Duration: 48.3ms | Allocations: 6211)
Completed 200 OK in 77ms (Views: 55.4ms | ActiveRecord: 10.9ms | Allocations: 8976)


Started GET "/products" for ::1 at 2020-01-14 16:24:06 -0300
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
  Rendering products/index.json.jbuilder
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/views/products/index.json.jbuilder:1
  Rendered products/_product.json.jbuilder (Duration: 0.9ms | Allocations: 196)
  Rendered products/index.json.jbuilder (Duration: 40.5ms | Allocations: 6211)
Completed 200 OK in 57ms (Views: 41.6ms | ActiveRecord: 4.6ms | Allocations: 8976)


Started GET "/products" for ::1 at 2020-01-14 16:26:19 -0300
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms | Allocations: 3607)


  
ActionView::MissingTemplate (Missing template products/index, application/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:8:in `index'
Started GET "/products" for ::1 at 2020-01-14 17:17:09 -0300
  [1m[35m (37.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (18.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 93ms (Views: 85.3ms | ActiveRecord: 5.1ms | Allocations: 5971)


Started GET "/products" for ::1 at 2020-01-14 17:18:07 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.0ms | Allocations: 1023)


Started GET "/products" for ::1 at 2020-01-14 17:20:03 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 1.5ms | Allocations: 6027)


Started GET "/products" for ::1 at 2020-01-14 17:23:34 -0300
  
ActionController::RoutingError (uninitialized constant ResourceController):
  
app/controllers/products_controller.rb:1:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/products" for ::1 at 2020-01-14 17:26:28 -0300
  
ActionController::RoutingError (uninitialized constant ResourceController):
  
app/controllers/products_controller.rb:1:in `<main>'
Started POST "/products" for ::1 at 2020-01-14 18:22:22 -0300
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"contacts", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 83ms (ActiveRecord: 0.0ms | Allocations: 24988)


  
NoMethodError (undefined method `flash=' for #<ActionDispatch::Request:0x000055b41eb5c890>):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:172:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products" for ::1 at 2020-01-14 18:25:08 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.0ms | Allocations: 24684)


  
NoMethodError (undefined method `flash=' for #<ActionDispatch::Request:0x000055b41f93ae80>):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:172:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateItems (20200114234851)
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200114234851')[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20200114235222)
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200114235222')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToItem (20200114235625)
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE `items` ADD `product_id` bigint NOT NULL[0m
  [1m[35m (25.5ms)[0m  [1m[35mCREATE  INDEX `index_items_on_product_id`  ON `items` (`product_id`) [0m
  [1m[35m (99.9ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200114235625')[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/products" for ::1 at 2020-01-14 20:57:10 -0300
  [1m[35m (1.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.0ms | Allocations: 24989)


  
NoMethodError (undefined method `flash=' for #<ActionDispatch::Request:0x000056374fe130e8>):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:172:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products" for ::1 at 2020-01-14 21:01:27 -0300
  [1m[35m (2.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2914)


Started POST "/products" for ::1 at 2020-01-14 21:05:49 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1672)


Started POST "/products" for ::1 at 2020-01-14 21:06:20 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>"100"}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 8ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1676)


Started POST "/products" for ::1 at 2020-01-14 21:08:33 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 7ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1672)


Started POST "/products" for ::1 at 2020-01-14 21:08:54 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>"100"}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1625)


Started POST "/products" for ::1 at 2020-01-14 21:11:30 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 7ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1625)


Started POST "/products" for ::1 at 2020-01-14 21:16:23 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 5ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 1672)


Started POST "/products" for ::1 at 2020-01-14 21:16:27 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost_per_unit"=>100}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1625)


Started POST "/products" for ::1 at 2020-01-14 21:18:47 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail"}}}
Can't verify CSRF token authenticity.
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`code` = BINARY 'asd123456' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 26ms (Views: 1.2ms | ActiveRecord: 1.8ms | Allocations: 14308)


Started POST "/products" for ::1 at 2020-01-14 21:19:04 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd123456", "description"=>"a description", "detail"=>"a detail", "cost-per-unit"=>100}}}
Can't verify CSRF token authenticity.
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`code` = BINARY 'asd123456' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`code`, `description`, `detail`, `cost_per_unit`, `created_at`, `updated_at`) VALUES ('asd123456', 'a description', 'a detail', 100, '2020-01-15 00:19:04.728223', '2020-01-15 00:19:04.728223')[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT products.id AS products_id FROM `products` WHERE `products`.`id` = 1[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1[0m
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 3)
Completed 201 Created in 28ms (Views: 2.2ms | ActiveRecord: 7.8ms | Allocations: 11110)


Started GET "/products" for ::1 at 2020-01-15 12:14:02 -0300
  [1m[35m (36.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
  [1m[35m (1.8ms)[0m  [1m[34mSELECT products.id AS products_id, products.id FROM `products` ORDER BY products.id asc[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 84ms (Views: 1.2ms | ActiveRecord: 5.5ms | Allocations: 9732)


Started POST "/products" for ::1 at 2020-01-15 12:15:16 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd234567", "description"=>"a description 2", "detail"=>"a detail 2", "cost-per-unit"=>199.99}}}
Can't verify CSRF token authenticity.
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`code` = BINARY 'asd234567' LIMIT 1[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO `products` (`code`, `description`, `detail`, `cost_per_unit`, `created_at`, `updated_at`) VALUES ('asd234567', 'a description 2', 'a detail 2', 199, '2020-01-15 15:15:16.596592', '2020-01-15 15:15:16.596592')[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT products.id AS products_id FROM `products` WHERE `products`.`id` = 2[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 29ms (Views: 0.5ms | ActiveRecord: 5.2ms | Allocations: 11182)


Started GET "/products" for ::1 at 2020-01-15 12:15:25 -0300
Processing by ProductsController#index as */*
  [1m[35m (0.7ms)[0m  [1m[34mSELECT products.id AS products_id, products.id FROM `products` ORDER BY products.id asc[0m
  [1m[36mProduct Load (2.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` IN (1, 2)[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 4294)


Started POST "/products" for ::1 at 2020-01-15 12:15:53 -0300
Processing by ProductsController#create as API_JSON
  Parameters: {"code"=>"asd234567", "description"=>"a description 2", "detail"=>"a detail 2", "cost-per-unit"=>199.99}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 9ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 2536)


Started GET "/products" for ::1 at 2020-01-15 12:57:37 -0300
  [1m[35m (7.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 32ms (ActiveRecord: 0.0ms | Allocations: 1934)


Started GET "/products" for ::1 at 2020-01-15 13:01:59 -0300
  [1m[35m (2.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 0.0ms | Allocations: 1932)


Started GET "/products" for ::1 at 2020-01-15 13:11:44 -0300
  [1m[35m (54.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (23.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as */*
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.0ms | Allocations: 1921)


Started GET "/products" for ::1 at 2020-01-15 14:58:55 -0300
  
Mysql2::Error::ConnectionError (Can't connect to local MySQL server through socket '/opt/lampp/var/mysql/mysql.sock' (111)):
  
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `initialize'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2020-01-15 14:59:29 -0300
  [1m[35m (30.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 0.0ms | Allocations: 1748)


Started GET "/products" for ::1 at 2020-01-15 15:01:42 -0300
  
ActionController::RoutingError (uninitialized constant ResourceController):
  
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2020-01-15 15:02:04 -0300
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1358)


Started GET "/products" for ::1 at 2020-01-15 15:02:27 -0300
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1357)


Started GET "/products" for ::1 at 2020-01-15 15:04:17 -0300
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 2700)


Started GET "/products" for ::1 at 2020-01-15 15:04:38 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 0.0ms | Allocations: 1759)


Started GET "/products" for ::1 at 2020-01-15 15:13:25 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2722)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:14:05 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2660)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:14:34 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2699)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:16:46 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2952)


  
NoMethodError (undefined method `parse' for JSONAPI:Module
Did you mean?  parent):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:18:52 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2938)


  
NoMethodError (undefined method `serialize_to_hash' for #<JSONAPI::ResourceSerializer:0x00007fbe3c2ec438>
Did you mean?  serialize_to_relationship_hash):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:25:50 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2883)


  
NoMethodError (undefined method `serialize_resource_set_to_hash' for #<JSONAPI::ResourceSerializer:0x0000563b16856658>
Did you mean?  serialize_resource_set_to_hash_plural
               serialize_resource_set_to_hash_single):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:26:12 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 9118)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe240750f0>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:26:37 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 8324)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe4449a8b8>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:28:48 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 8348)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe3c2b60e0>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:29:06 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 8369)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x0000563b16998340>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:30:16 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `puts'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 7780)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe241b69f0>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:30:45 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 8329)


  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe4456d6c8>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:32:15 -0300
Processing by ProductsController#index as API_JSON
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 2073)


Started GET "/products" for ::1 at 2020-01-15 15:33:02 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 8278)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `serialize_resource_set_to_hash_single' for #<ProductResource:0x0000563b16f4d880>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:33:30 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2940)


  
NoMethodError (undefined method `serialize_resource_set_to_hash_single' for JSONAPI::ResourceSerializer:Class):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:33:57 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 8290)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe3c1bf100>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:39:54 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2905)


  
NoMethodError (undefined method `serialize_to_hash' for #<JSONAPI::ResourceSerializer:0x0000563b14f7ef90>
Did you mean?  serialize_to_relationship_hash):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:41:31 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2321)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/products_controller.rb:9:in `new'
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:41:48 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 8762)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbe44473bc8>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-15 15:48:41 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.3ms | Allocations: 8212)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x0000563b14dc8de0>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:04:04 -0300
  [1m[35m (30.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.7ms | Allocations: 7078)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x000055f34cd00a80>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:07:51 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.2ms | Allocations: 7108)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x000055f34f2a6c08>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:10:14 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms | Allocations: 7097)


  
NoMethodError (private method `initialize' called for JSONAPI::ResourceSerializer:Class):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:21:47 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (8.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 8.3ms | Allocations: 7248)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x000055f34e3a5bc8>):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:25:26 -0300
Processing by ProductsController#index as API_JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 515)


  
ArgumentError (wrong number of arguments (given 0, expected 2)):
  
app/controllers/products_controller.rb:8:in `new'
app/controllers/products_controller.rb:8:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:26:03 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.1ms | Allocations: 7012)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x000055f34f2053f8>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:28:14 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.1ms | Allocations: 7832)


  
NoMethodError (undefined method `create_resource' for ProductResource:Class
Did you mean?  create_model):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:28:40 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.2ms | Allocations: 8039)


  
NoMethodError (undefined method `resource_klasses' for #<Product:0x00007fb7740e8110>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 02:33:45 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.4ms | Allocations: 8006)


  
NoMethodError (undefined method `resource_klasses' for #<Product:0x000055f34ec58e28>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:27:57 -0300
  [1m[35m (49.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.2ms | Allocations: 7732)


  
NoMethodError (undefined method `create_resource' for ProductResource:Class
Did you mean?  create_model):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:28:25 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms | Allocations: 6580)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:28:40 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.1ms | Allocations: 7213)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007f9d5c2291a0>):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:34:04 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 137ms (ActiveRecord: 0.4ms | Allocations: 102452)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x00007f9d50215e40>
Did you mean?  @product):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:35:22 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.4ms | Allocations: 8205)


  
NameError (uninitialized constant ProductsController::BasicResource
Did you mean?  BasicSocket):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:38:44 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.6ms | Allocations: 8185)


  
NameError (uninitialized constant ProductsController::BasicResource
Did you mean?  BasicSocket):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:39:02 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.5ms | Allocations: 6859)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:39:31 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms | Allocations: 6842)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/products_controller.rb:11:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:40:08 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 1.5ms | Allocations: 7595)


Started GET "/products" for ::1 at 2020-01-16 15:40:48 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.0ms | Allocations: 7121)


  
NoMethodError (undefined method `resource_klasses' for JSONAPI::ResourceSet:Class):
  
app/controllers/products_controller.rb:12:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:43:52 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 135ms (ActiveRecord: 1.5ms | Allocations: 102326)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x00007f9d5c05e208>
Did you mean?  @product):
  
app/controllers/products_controller.rb:12:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:44:14 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.4ms | Allocations: 7157)


  
NoMethodError (undefined method `resource_klasses' for JSONAPI::ResourceSet:Class):
  
app/controllers/products_controller.rb:13:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:44:52 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 1.6ms | Allocations: 6253)


Started GET "/products" for ::1 at 2020-01-16 15:45:07 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 1.6ms | Allocations: 6252)


Started GET "/products" for ::1 at 2020-01-16 15:47:11 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms | Allocations: 7824)


  
NoMethodError (undefined method `id' for ProductResource:Class):
  
app/controllers/products_controller.rb:14:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:49:21 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.6ms | Allocations: 7798)


  
NoMethodError (undefined method `create_resource' for ProductResource:Class
Did you mean?  create_model):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:49:45 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.8ms | Allocations: 7054)


  
NoMethodError (undefined method `resource_klass' for #<ProductResource:0x00007f9d5013ec10>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:49:56 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms | Allocations: 7013)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007f9d508dc6c0>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:50:22 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.5ms | Allocations: 6532)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:50:30 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.6ms | Allocations: 7059)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007f9d5c0ee538>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:52:20 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.8ms | Allocations: 7059)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007f9d501acc88>):
  
app/controllers/products_controller.rb:10:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:52:28 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms | Allocations: 6501)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/controllers/products_controller.rb:16:in `new'
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:54:02 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.3ms | Allocations: 7126)


  
NoMethodError (undefined method `serialize_resource' for #<JSONAPI::ResourceSerializer:0x000055a87f76e198>):
  
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-16 15:54:48 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.5ms | Allocations: 7137)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007f9d5c243cd0>):
  
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-16 16:28:06 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.3ms | Allocations: 7011)


  
NoMethodError (private method `initialize' called for JSONAPI::ResourceSet:Class):
  
app/controllers/products_controller.rb:9:in `index'
Started GET "/products" for ::1 at 2020-01-16 16:28:25 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 7215)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fe1b0169308>):
  
app/controllers/products_controller.rb:17:in `index'
Started GET "/products" for ::1 at 2020-01-16 16:58:00 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.3ms | Allocations: 7133)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x0000557bac167510>):
  
app/controllers/products_controller.rb:17:in `index'
Started GET "/products" for ::1 at 2020-01-17 00:50:06 -0300
  [1m[35m (22.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 8.0ms | Allocations: 7096)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x000055c8e5bf4650>):
  
app/controllers/products_controller.rb:15:in `index'
Started GET "/products" for ::1 at 2020-01-17 00:52:46 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 1.2ms | Allocations: 8475)


Started GET "/products" for ::1 at 2020-01-17 00:56:30 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.0ms | Allocations: 7795)


  
NoMethodError (undefined method `resource_klasses' for #<ProductResource:0x00007fbef42a5688>):
  
app/controllers/products_controller.rb:15:in `index'
Started GET "/products" for ::1 at 2020-01-17 00:58:08 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.7ms | Allocations: 7789)


  
NoMethodError (undefined method `resource_klasses' for JSONAPI::ResourceSet:Class):
  
app/controllers/products_controller.rb:15:in `index'
Started GET "/products" for ::1 at 2020-01-17 00:59:01 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.2ms | Allocations: 7789)


  
NoMethodError (undefined method `resource_klasses' for JSONAPI::ResourceSet:Class):
  
app/controllers/products_controller.rb:15:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:00:13 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.5ms | Allocations: 7716)


  
NoMethodError (undefined method `to_hash' for #<JSONAPI::ResourceSerializer:0x00007fbf0800fba8>
Did you mean?  to_s):
  
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:05:03 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.4ms | Allocations: 7766)


  
NoMethodError (undefined method `serialize_to_hash' for #<JSONAPI::ResourceSerializer:0x00007fbee8019448>
Did you mean?  serialize_to_relationship_hash):
  
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:10:02 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (43.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 70ms (ActiveRecord: 43.7ms | Allocations: 1807)


  
NoMethodError (undefined method `serialize_to_hash' for #<JSONAPI::ResourceSerializer:0x00007fbee80b77d8>
Did you mean?  serialize_to_relationship_hash):
  
app/controllers/products_controller.rb:16:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:10:37 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.6ms | Allocations: 1807)


  
NoMethodError (undefined method `serialize_to_hash' for #<JSONAPI::ResourceSerializer:0x00007fbee8113d30>
Did you mean?  serialize_to_relationship_hash):
  
app/controllers/products_controller.rb:16:in `index'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-17 01:11:17 -0300
  [1m[35m (46.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 2.5ms | Allocations: 7590)


Started GET "/products" for ::1 at 2020-01-17 01:12:10 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.4ms | Allocations: 7093)


Started GET "/products" for ::1 at 2020-01-17 01:14:28 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 171ms (ActiveRecord: 2.0ms | Allocations: 102920)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x00007f7ff01e2a68>
Did you mean?  @product):
  
app/controllers/products_controller.rb:7:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:14:38 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 7300)


Started GET "/products" for ::1 at 2020-01-17 01:15:08 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.3ms | Allocations: 7646)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:7:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:15:42 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.4ms | Allocations: 7609)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:7:in `index'
Started GET "/products" for ::1 at 2020-01-17 01:16:44 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 2.2ms | Allocations: 7182)


Started GET "/products" for ::1 at 2020-01-17 01:20:13 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 7187)


Started GET "/products/hola" for ::1 at 2020-01-17 01:20:38 -0300
Processing by ProductsController#show as API_JSON
  Parameters: {"id"=>"hola"}
Completed 400 Bad Request in 10ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 2735)


Started GET "/products/hola" for ::1 at 2020-01-17 01:35:45 -0300
Processing by ProductsController#show as API_JSON
  Parameters: {"id"=>"hola"}
Completed 400 Bad Request in 4ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2294)


Started GET "/products" for ::1 at 2020-01-17 01:35:49 -0300
Processing by ProductsController#index as API_JSON
  [1m[36mProduct Load (6.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 99.2ms | Allocations: 7038)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:api_json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:7:in `index'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-17 01:36:31 -0300
  [1m[35m (15.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSONAPI
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.3ms | Allocations: 7492)


  
ActionView::MissingTemplate (Missing template products/index, jsonapi/resource/index with {:locale=>[:en], :formats=>[:jsonapi], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/products_controller.rb:7:in `index'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-17 01:38:32 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 5676)


Started GET "/products/hola" for ::1 at 2020-01-17 01:38:43 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"hola", "product"=>{}}
Completed 400 Bad Request in 11ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 2740)


Started GET "/products/hola" for ::1 at 2020-01-17 01:40:02 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"hola", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1750)


Started GET "/products" for ::1 at 2020-01-17 01:40:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1308)


Started GET "/products" for ::1 at 2020-01-17 01:40:38 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1308)


Started GET "/products" for ::1 at 2020-01-17 01:41:14 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1207)


Started GET "/products/hola" for ::1 at 2020-01-17 01:46:49 -0300
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"hola", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1711)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-18 15:36:21 -0300
  [1m[35m (34.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:6:in `index'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 5676)


Started GET "/products/hola" for ::1 at 2020-01-18 15:37:23 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"hola", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms | Allocations: 2217)


Started GET "/products/1" for ::1 at 2020-01-18 15:37:42 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"1", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 236)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1" for ::1 at 2020-01-18 15:40:13 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"1", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 7744)


Started GET "/products/hola" for ::1 at 2020-01-18 15:40:19 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"hola", "product"=>{}}
Completed 400 Bad Request in 6ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 2723)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1" for ::1 at 2020-01-18 15:40:54 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"1", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 14ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 7744)


Started GET "/products/hola" for ::1 at 2020-01-18 15:40:56 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"hola", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.0ms | Allocations: 1591)


Started GET "/products/in_stock" for ::1 at 2020-01-18 15:57:05 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/products_controller.rb:12: syntax error, unexpected end
                end
                ^~~
/home/nacho/tpi_rails/app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/products_controller.rb:12: syntax error, unexpected end
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting end
app/controllers/products_controller.rb:12: syntax error, unexpected end
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting end
app/controllers/products_controller.rb:12: syntax error, unexpected end
app/controllers/products_controller.rb:28: syntax error, unexpected end-of-input, expecting end
Started GET "/products/in_stock" for ::1 at 2020-01-18 15:57:58 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"in_stock", "product"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3301)


Started GET "/products/instock" for ::1 at 2020-01-18 15:58:37 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
Completed 500 Internal Server Error in 124ms (ActiveRecord: 0.8ms | Allocations: 96978)


  
NameError (undefined local variable or method `product' for #<ProductsController:0x00007f55a41e1288>
Did you mean?  products):
  
app/controllers/products_controller.rb:8:in `index'
Started GET "/products/instock" for ::1 at 2020-01-18 15:59:01 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 4.1ms | Allocations: 7990)


Started GET "/products/instock" for ::1 at 2020-01-18 15:59:23 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 4.0ms | Allocations: 7928)


Started GET "/products/instock" for ::1 at 2020-01-18 16:00:20 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 2.5ms | Allocations: 7886)


Started GET "/products/instock" for ::1 at 2020-01-18 16:00:51 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.5ms | Allocations: 7119)


  
NoMethodError (undefined method `type' for #<Product:0x00007f55b00fa688>):
  
app/controllers/products_controller.rb:9:in `block in index'
app/controllers/products_controller.rb:8:in `index'
Started GET "/products/instock" for ::1 at 2020-01-18 16:05:55 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
Completed 500 Internal Server Error in 152ms (ActiveRecord: 2.5ms | Allocations: 103996)


  
NameError (undefined local variable or method `stock' for #<ProductsController:0x00007f55a4470300>):
  
app/controllers/products_controller.rb:13:in `index'
Started GET "/products/instock" for ::1 at 2020-01-18 16:06:34 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.9ms | Allocations: 8588)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/products_controller.rb:24:in `serialize_product'
app/controllers/products_controller.rb:13:in `index'
Started GET "/products/instock" for ::1 at 2020-01-18 16:07:28 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:8:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:9:in `block in index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.7ms | Allocations: 9101)


  
NoMethodError (undefined method `id' for []:Array):
  
app/controllers/products_controller.rb:24:in `serialize_product'
app/controllers/products_controller.rb:13:in `index'
Started GET "/products/instock" for ::1 at 2020-01-18 16:08:32 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.7ms | Allocations: 9113)


  
NoMethodError (undefined method `id' for []:Array):
  
app/controllers/products_controller.rb:25:in `serialize_product'
app/controllers/products_controller.rb:14:in `index'
Started GET "/products/all" for ::1 at 2020-01-18 16:08:57 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3220)


  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` LIMIT 11[0m
  
NoMethodError (undefined method `id' for #<Product::ActiveRecord_Relation:0x00005645ea259820>
Did you mean?  ids):
  
app/controllers/products_controller.rb:25:in `serialize_product'
app/controllers/products_controller.rb:20:in `index'
Started GET "/products/all" for ::1 at 2020-01-18 16:09:46 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 5707)


Started GET "/products/all" for ::1 at 2020-01-18 16:10:51 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/products_controller.rb:5:in `index'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.3ms | Allocations: 7177)


  
NoMethodError (undefined method `each' for #<Product:0x00007f55b824e018>):
  
app/controllers/products_controller.rb:25:in `serialize_product'
app/controllers/products_controller.rb:20:in `index'
Started GET "/products/all" for ::1 at 2020-01-18 16:11:20 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:25:in `serialize_product'
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 5917)


Started GET "/products/instock" for ::1 at 2020-01-18 16:12:50 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"instock", "product"=>{}}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 7879)


Started GET "/products/all" for ::1 at 2020-01-18 16:13:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:31:in `serialize_product'
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.7ms | Allocations: 1434)


Started GET "/products/in_stock" for ::1 at 2020-01-18 16:21:46 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"in_stock", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2300)


Started GET "/products/in_stock" for ::1 at 2020-01-18 16:22:34 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"in_stock", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2297)


Started GET "/products/in_stock" for ::1 at 2020-01-18 16:29:49 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 7878)


Started GET "/products/in_stock" for ::1 at 2020-01-18 17:00:11 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 2.2ms | Allocations: 2589)


Started GET "/products/in_stock" for ::1 at 2020-01-18 17:02:55 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.6ms | Allocations: 6369)


  
SyntaxError (/home/nacho/tpi_rails/app/models/item.rb:5: syntax error, unexpected '}', expecting =>
...s, { where(state:"disponible")}
...                              ^):
  
app/models/item.rb:5: syntax error, unexpected '}', expecting =>
app/models/item.rb:5: syntax error, unexpected '}', expecting =>
app/models/item.rb:5: syntax error, unexpected '}', expecting =>
app/controllers/products_controller.rb:10:in `block in index'
app/controllers/products_controller.rb:9:in `index'
Started GET "/products/in_stock" for ::1 at 2020-01-18 17:04:24 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.4ms | Allocations: 8372)


Started GET "/products/in_stock" for ::1 at 2020-01-18 17:09:12 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 8694)


Started GET "/products/scarce" for ::1 at 2020-01-18 17:10:00 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"scarce", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2302)


Started GET "/products/scarce" for ::1 at 2020-01-18 17:10:13 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"scarce", "product"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1711)


Started GET "/products/all" for ::1 at 2020-01-18 17:10:17 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"all", "product"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1711)


Started GET "/products/in_stock" for ::1 at 2020-01-18 17:10:38 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 10030)


Started GET "/products/all" for ::1 at 2020-01-18 17:10:41 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"all", "product"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1711)


Started GET "/products/all" for ::1 at 2020-01-18 17:11:06 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:31:in `serialize_product'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 5874)


Started GET "/products/scarce" for ::1 at 2020-01-18 17:11:10 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"scarce", "product"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:18:in `index'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.2ms | Allocations: 5424)


  
NoMethodError (undefined method `<=' for true:TrueClass
Did you mean?  <=>):
  
app/controllers/products_controller.rb:19:in `block in index'
app/controllers/products_controller.rb:18:in `index'
Started GET "/products/scarce" for ::1 at 2020-01-18 17:12:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"scarce", "product"=>{}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:18:in `index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 9887)


Started GET "/products/in_stock" for ::1 at 2020-01-18 17:13:20 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:9:in `index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 3 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:10:in `block in index'
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 2.9ms | Allocations: 3779)


Started GET "/products/scarce" for ::1 at 2020-01-18 17:13:24 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"scarce", "product"=>{}}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:18:in `index'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 2 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 3 AND `items`.`state` = 'disponible'[0m
  ↳ app/controllers/products_controller.rb:19:in `block in index'
Completed 200 OK in 17ms (Views: 0.6ms | ActiveRecord: 3.3ms | Allocations: 5027)


Started GET "/products/all" for ::1 at 2020-01-18 17:13:28 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:31:in `serialize_product'
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 1.1ms | Allocations: 1713)


Started GET "/products/4" for ::1 at 2020-01-18 17:17:35 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"4", "product"=>{}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 ORDER BY `products`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 2909)


Started GET "/products/3" for ::1 at 2020-01-18 17:17:42 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"3", "product"=>{}}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 10ms (Views: 1.2ms | ActiveRecord: 1.7ms | Allocations: 2949)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/3" for ::1 at 2020-01-18 17:23:49 -0300
  
NameError (JSONAPI: Could not find resource 'item'. (Class ItemResource not found)):
  
config/routes.rb:9:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/products/3" for ::1 at 2020-01-18 17:25:17 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"3", "product"=>{}}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 7492)


Started GET "/items" for ::1 at 2020-01-18 17:27:13 -0300
  
ActionController::RoutingError (No route matches [GET] "/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/product/1/items" for ::1 at 2020-01-18 17:28:50 -0300
  
ActionController::RoutingError (No route matches [GET] "/product/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 17:33:59 -0300
  
NoMethodError (undefined method `make_response!' for ItemsController:Class):
  
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 17:36:01 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 17:36:49 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
NoMethodError (undefined method `make_response!' for ItemsController:Class):
  
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/1/items" for ::1 at 2020-01-18 17:37:08 -0300
  
NoMethodError (undefined method `make_response!' for ItemsController:Class):
  
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 17:38:02 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
NoMethodError (undefined method `make_response!' for ItemsController:Class):
  
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/1/items" for ::1 at 2020-01-18 17:38:33 -0300
Processing by ItemsController#get_related_resource as JSON
  Parameters: {"relationship"=>"items", "source"=>"products", "product_id"=>"1", "item"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 ORDER BY `products`.`id` ASC LIMIT 1[0m
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 24ms (Views: 0.6ms | ActiveRecord: 3.1ms | Allocations: 14343)


Started GET "/products/2/items" for ::1 at 2020-01-18 18:41:04 -0300
Processing by ItemsController#get_related_resource as JSON
  Parameters: {"relationship"=>"items", "source"=>"products", "product_id"=>"2", "item"=>{}}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 ORDER BY `products`.`id` ASC LIMIT 1[0m
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 2[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 2)
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 1.6ms | Allocations: 4433)


Started GET "/products/4/items" for ::1 at 2020-01-18 18:41:13 -0300
Processing by ItemsController#get_related_resource as JSON
  Parameters: {"relationship"=>"items", "source"=>"products", "product_id"=>"4", "item"=>{}}
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 ORDER BY `products`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 10ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 3924)


Started POST "/products" for ::1 at 2020-01-18 18:59:42 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"products", "attributes":{cantidad:1}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"products", "attributes":{cantidad:1}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"products", "attributes":{cantidad:1}}}
Started POST "/products/1/items" for ::1 at 2020-01-18 19:00:44 -0300
  
ActionController::RoutingError (No route matches [POST] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"products", "attributes":{cantidad:1}}}
Started POST "/products/1/items" for ::1 at 2020-01-18 19:01:22 -0300
  
ActionController::RoutingError (No route matches [POST] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:06:31 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:10:12 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:14:09 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/products/1/items"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:16:03 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.8ms | Allocations: 505)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/4/items" for ::1 at 2020-01-18 19:17:33 -0300
Processing by ItemsController#show as JSON
  Parameters: {"product_id"=>"4", "item"=>{}}
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`id` IS NULL ORDER BY `items`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 19ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 6687)


Started GET "/products/2/items" for ::1 at 2020-01-18 19:17:42 -0300
Processing by ItemsController#show as JSON
  Parameters: {"product_id"=>"2", "item"=>{}}
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`id` IS NULL ORDER BY `items`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2910)


Started GET "/products/1/items" for ::1 at 2020-01-18 19:18:01 -0300
Processing by ItemsController#show as JSON
  Parameters: {"product_id"=>"1", "item"=>{}}
  [1m[36mItem Load (0.9ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`id` IS NULL ORDER BY `items`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 11ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 2896)


Started GET "/products/1/items" for ::1 at 2020-01-18 19:18:26 -0300
Processing by ItemsController#show as JSON
  Parameters: {"product_id"=>"1", "item"=>{}}
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`id` IS NULL ORDER BY `items`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2910)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 19:20:35 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#get_related_resource as JSON
  Parameters: {"relationship"=>"items", "source"=>"products", "product_id"=>"1", "item"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 ORDER BY `products`.`id` ASC LIMIT 1[0m
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 27ms (Views: 0.8ms | ActiveRecord: 3.5ms | Allocations: 13701)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/1/items" for ::1 at 2020-01-18 19:24:44 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#index as JSON
  Parameters: {"product_id"=>"1", "item"=>{}}
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` ORDER BY `items`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 6685)


Started POST "/products/1/items" for ::1 at 2020-01-18 19:24:57 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 441)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:30:59 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 1.1ms | Allocations: 505)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:33:03 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.8ms | Allocations: 505)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:36:36 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 2.2ms | Allocations: 505)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:37:14 -0300
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.8ms | Allocations: 505)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:38:16 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.9ms | Allocations: 1691)


Started POST "/products/1/items" for ::1 at 2020-01-18 19:38:44 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms | Allocations: 959)


Started POST "/products/1/items" for ::1 at 2020-01-18 19:39:14 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.1ms | Allocations: 1631)


  
NoMethodError (undefined method `attributes' for :data:Symbol):
  
app/controllers/items_controller.rb:5:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:42:14 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms | Allocations: 982)


Started POST "/products/1/items" for ::1 at 2020-01-18 19:42:30 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 1.0ms | Allocations: 983)


Started POST "/products/1/items" for ::1 at 2020-01-18 19:43:58 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 135ms (ActiveRecord: 0.9ms | Allocations: 97290)


  
NameError (undefined local variable or method `product_id' for #<ItemsController:0x00007fd8081632c0>
Did you mean?  product_url):
  
app/controllers/items_controller.rb:6:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:44:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 404 Not Found in 4ms (ActiveRecord: 1.6ms | Allocations: 2152)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/items_controller.rb:6:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:44:29 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 404 Not Found in 3ms (ActiveRecord: 1.6ms | Allocations: 1725)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/items_controller.rb:6:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:44:51 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 404 Not Found in 5ms (ActiveRecord: 1.8ms | Allocations: 1769)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/items_controller.rb:7:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:45:16 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 404 Not Found in 4ms (ActiveRecord: 1.5ms | Allocations: 1725)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/items_controller.rb:7:in `create'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-18 19:50:44 -0300
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
Completed 404 Not Found in 9ms (ActiveRecord: 1.9ms | Allocations: 1492)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/items_controller.rb:7:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-18 19:51:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"cantidad"=>1}}, "product_id"=>"1", "item"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/items_controller.rb:7:in `create'
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 2.1ms | Allocations: 7599)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (40.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (8.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateUsers (20200121163300)
  [1m[35m (55.8ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200121163300')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/usuarios" for ::1 at 2020-01-21 13:48:57 -0300
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "user"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 1.2ms | Allocations: 501)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/usuarios" for ::1 at 2020-01-21 13:49:41 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "user"=>{}}
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.7ms | Allocations: 2420)


Started POST "/usuarios" for ::1 at 2020-01-21 13:50:31 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"user1", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 853)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/users_controller.rb:5:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 13:50:38 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"user1", "password"=>"[FILTERED]"}}
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1028)


Started POST "/usuarios" for ::1 at 2020-01-21 13:51:05 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/usuarios" for ::1 at 2020-01-21 13:51:51 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1237)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/users_controller.rb:7:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 13:56:41 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.5ms | Allocations: 4352)


Started POST "/usuarios" for ::1 at 2020-01-21 13:57:12 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user1', '12345', '2020-01-21 16:57:12.200953', '2020-01-21 16:57:12.200953')[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 10.1ms | Allocations: 7873)


Started POST "/usuarios" for ::1 at 2020-01-21 13:58:03 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
        render json: header: :created
                     ^~~~~~~):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 13:58:17 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
        render json: head: :created
                     ^~~~~):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 14:00:17 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
        render json: status: :created
                     ^~~~~~~):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 14:00:50 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 8397)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/usuarios" for ::1 at 2020-01-21 15:54:08 -0300
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user2", "p"=>"12345"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user2' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user2', '12345', '2020-01-21 18:54:08.681684', '2020-01-21 18:54:08.681684')[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 8.1ms | Allocations: 7535)


Started POST "/usuarios" for ::1 at 2020-01-21 15:55:57 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
        render :json => status: :created
                              ^):
  
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 15:59:02 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
        render json: status: :created
                     ^~~~~~~):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:7: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 16:09:12 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting end
...        render :api_json status: :ok
...                         ^~~~~~
/home/nacho/tpi_rails/app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:13:56 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected tSTRING_BEG, expecting end
            render :api_json "hola"
                             ^
/home/nacho/tpi_rails/app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/users_controller.rb:7: syntax error, unexpected tSTRING_BEG, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected tSTRING_BEG, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected tSTRING_BEG, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:14:18 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected '{', expecting end
            render :api_json {"hola"}
                             ^
/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected '}', expecting end
...      render :api_json {"hola"}
...                              ^):
  
app/controllers/users_controller.rb:7: syntax error, unexpected '{', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected '}', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected '{', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected '}', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected '{', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected '}', expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:14:43 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
...    render :api_json => status: :ok
...                              ^
/home/nacho/tpi_rails/app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:15:25 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
app/controllers/users_controller.rb:11: syntax error, unexpected end-of-input, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:15:49 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user3", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user3' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user3', '12345', '2020-01-21 19:15:49.796519', '2020-01-21 19:15:49.796519')[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 89ms (ActiveRecord: 9.2ms | Allocations: 56777)


  
NoMethodError (undefined method `serialize_to_hash' for #<UsersController:0x000055cfb5d53ba0>
Did you mean?  serialization_options):
  
app/controllers/users_controller.rb:7:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:21:27 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
No template found for UsersController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 1.5ms | Allocations: 9697)


Started POST "/usuarios" for ::1 at 2020-01-21 16:25:17 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:10: syntax error, unexpected tSYMBEG, expecting do or '{' or '('
...        render api_json: head :bad_request
...                              ^):
  
app/controllers/users_controller.rb:10: syntax error, unexpected tSYMBEG, expecting do or '{' or '('
app/controllers/users_controller.rb:10: syntax error, unexpected tSYMBEG, expecting do or '{' or '('
app/controllers/users_controller.rb:10: syntax error, unexpected tSYMBEG, expecting do or '{' or '('
Started POST "/usuarios" for ::1 at 2020-01-21 16:25:41 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
...       render api_json: status: :bad_request
...                        ^~~~~~~):
  
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 16:25:55 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:10: syntax error, unexpected tIDENTIFIER, expecting end
...        render :api_json status: :bad_request
...                         ^~~~~~):
  
app/controllers/users_controller.rb:10: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/users_controller.rb:10: syntax error, unexpected tIDENTIFIER, expecting end
app/controllers/users_controller.rb:10: syntax error, unexpected tIDENTIFIER, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:27:16 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
...       render api_json: status: :bad_request
...                        ^~~~~~~):
  
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/users_controller.rb:10: syntax error, unexpected tLABEL
Started POST "/usuarios" for ::1 at 2020-01-21 16:27:29 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:10: syntax error, unexpected =>
           render api_json: => status: :bad_request
                            ^~):
  
app/controllers/users_controller.rb:10: syntax error, unexpected =>
app/controllers/users_controller.rb:10: syntax error, unexpected =>
app/controllers/users_controller.rb:10: syntax error, unexpected =>
Started POST "/usuarios" for ::1 at 2020-01-21 16:29:53 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.7ms | Allocations: 7907)


  
ActionView::MissingTemplate (Missing template users/create, jsonapi/resource/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/users_controller.rb:10:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:30:34 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.5ms | Allocations: 7811)


  
ActionView::MissingTemplate (Missing template users/create, jsonapi/resource/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/users_controller.rb:10:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:31:03 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user1", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 400 Bad Request in 18ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 7267)


Started POST "/usuarios" for ::1 at 2020-01-21 16:31:22 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user3", "p"=>"12345"}}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user3' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 400 Bad Request in 19ms (Views: 0.5ms | ActiveRecord: 2.2ms | Allocations: 3305)


Started POST "/usuarios" for ::1 at 2020-01-21 16:31:28 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user4", "p"=>"12345"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user4' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user4', '12345', '2020-01-21 19:31:28.140842', '2020-01-21 19:31:28.140842')[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 95ms (ActiveRecord: 6.5ms | Allocations: 52496)


  
NoMethodError (undefined method `serialize_to_hash' for #<UsersController:0x000055cfb5848188>
Did you mean?  serialization_options):
  
app/controllers/users_controller.rb:7:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:32:09 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
            render :json :status => 201
                         ^):
  
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected ':', expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:32:41 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/users_controller.rb:7: syntax error, unexpected =>, expecting end
...     render :json => :status => 201
...                             ^~):
  
app/controllers/users_controller.rb:7: syntax error, unexpected =>, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected =>, expecting end
app/controllers/users_controller.rb:7: syntax error, unexpected =>, expecting end
Started POST "/usuarios" for ::1 at 2020-01-21 16:33:12 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user4", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user4' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 7279)


Started POST "/usuarios" for ::1 at 2020-01-21 16:33:33 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user5' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user5', '12345', '2020-01-21 19:33:33.260150', '2020-01-21 19:33:33.260150')[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 10.9ms | Allocations: 4618)


  
ActionView::MissingTemplate (Missing template users/api_json, jsonapi/resource/api_json with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/users_controller.rb:7:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:40:48 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user5' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms | Allocations: 7851)


  
ActionView::MissingTemplate (Missing template users/create, jsonapi/resource/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/nacho/tpi_rails/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actiontext-6.0.1/app/views"
  * "/home/nacho/.gem/ruby/2.6.5/gems/actionmailbox-6.0.1/app/views"
):
  
app/controllers/users_controller.rb:10:in `create'
Started POST "/usuarios" for ::1 at 2020-01-21 16:41:03 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user5' LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 7265)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/usuarios" for ::1 at 2020-01-21 16:56:25 -0300
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/users" for ::1 at 2020-01-21 16:56:35 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 14ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 1856)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/users" for ::1 at 2020-01-21 17:31:09 -0300
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 11ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1859)


Started POST "/users" for ::1 at 2020-01-21 17:37:34 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1498)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/users" for ::1 at 2020-01-21 22:01:12 -0300
  
Mysql2::Error::ConnectionError (Can't connect to local MySQL server through socket '/opt/lampp/var/mysql/mysql.sock' (111)):
  
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `connect'
mysql2 (0.5.3) lib/mysql2/client.rb:90:in `initialize'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `new'
activerecord (6.0.1) lib/active_record/connection_adapters/mysql2_adapter.rb:24:in `mysql2_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:889:in `new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:933:in `checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:912:in `try_to_checkout_new_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:873:in `acquire_connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:595:in `checkout'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:439:in `connection'
activerecord (6.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:238:in `retrieve_connection'
activerecord (6.0.1) lib/active_record/connection_handling.rb:206:in `connection'
activerecord (6.0.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/users" for ::1 at 2020-01-21 22:01:37 -0300
  [1m[35m (29.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 16ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1830)


Started POST "/users" for ::1 at 2020-01-21 22:02:25 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1498)


Started POST "/users" for ::1 at 2020-01-21 22:03:32 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"u"=>"user5", "p"=>"12345"}, "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1513)


Started POST "/users" for ::1 at 2020-01-21 22:05:22 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"u"=>"user5", "p"=>"12345"}, "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1478)


Started POST "/users" for ::1 at 2020-01-21 22:20:49 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 852)


Started POST "/users" for ::1 at 2020-01-21 22:21:58 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 798)


Started POST "/users" for ::1 at 2020-01-21 22:23:05 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6"}}, "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/user_processor.rb:7:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 28ms (Views: 0.8ms | ActiveRecord: 0.9ms | Allocations: 9550)


Started POST "/users" for ::1 at 2020-01-21 22:23:39 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 798)


Started POST "/users" for ::1 at 2020-01-21 22:24:04 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1545)


Started POST "/users" for ::1 at 2020-01-21 22:24:57 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 796)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/users" for ::1 at 2020-01-21 22:25:12 -0300
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 16ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 1934)


Started POST "/users" for ::1 at 2020-01-21 22:25:55 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"u"=>"user5", "p"=>"12345"}, "user"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 787)


Started POST "/users" for ::1 at 2020-01-21 22:26:20 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 754)


Started POST "/users" for ::1 at 2020-01-21 22:26:33 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"user", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 796)


Started POST "/users" for ::1 at 2020-01-21 22:30:01 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/user_processor.rb:7:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 8ms (Views: 0.7ms | ActiveRecord: 1.4ms | Allocations: 8298)


Started POST "/users" for ::1 at 2020-01-21 22:31:46 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user6", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:4:in `create_resource'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user6' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user6', '12345', '2020-01-22 01:31:46.384962', '2020-01-22 01:31:46.384962')[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 14ms (Views: 0.5ms | ActiveRecord: 3.8ms | Allocations: 8702)


Started POST "/users" for ::1 at 2020-01-21 22:32:24 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:4:in `create_resource'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user7' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user7', '12345', '2020-01-22 01:32:24.295451', '2020-01-22 01:32:24.295451')[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
Internal Server Error: wrong number of arguments (given 1, expected 2..3) /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_result.rb:28:in `initialize'
/home/nacho/tpi_rails/app/processors/user_processor.rb:7:in `new'
/home/nacho/tpi_rails/app/processors/user_processor.rb:7:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 15ms (Views: 0.8ms | ActiveRecord: 4.9ms | Allocations: 9559)


Started POST "/users" for ::1 at 2020-01-21 22:32:31 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:4:in `create_resource'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user7' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user7', '12345', '2020-01-22 01:32:31.787730', '2020-01-22 01:32:31.787730')[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:238:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 26ms (Views: 4.2ms | ActiveRecord: 6.0ms | Allocations: 9304)


Started POST "/users" for ::1 at 2020-01-21 22:33:17 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:4:in `create_resource'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user7' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 8152)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/session" for ::1 at 2020-01-22 00:15:29 -0300
  [1m[35m (2.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (72.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/session"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sessions" for ::1 at 2020-01-22 00:18:13 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}, "session"=>{"data"=>{"type"=>"users", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1903)


Started POST "/sessions" for ::1 at 2020-01-22 00:18:41 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}, "session"=>{"data"=>{"type"=>"sessions", "attributes"=>{"username"=>"user7", "password"=>"[FILTERED]"}}}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 896)


Started POST "/sessions" for ::1 at 2020-01-22 00:22:39 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
Internal Server Error: undefined method `new' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:516:in `create_model'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:512:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:232:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 3696)


Started POST "/sessions" for ::1 at 2020-01-22 00:26:26 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
Internal Server Error: undefined method `new' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:516:in `create_model'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:512:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:232:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 3676)


Started POST "/sessions" for ::1 at 2020-01-22 00:27:11 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1654)


Started POST "/sessions" for ::1 at 2020-01-22 00:27:31 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 316)


Started POST "/sessions" for ::1 at 2020-01-22 00:29:54 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/sessions_controller.rb:9: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/sessions_controller.rb:9: syntax error, unexpected end-of-input, expecting end
app/controllers/sessions_controller.rb:9: syntax error, unexpected end-of-input, expecting end
app/controllers/sessions_controller.rb:9: syntax error, unexpected end-of-input, expecting end
Started POST "/sessions" for ::1 at 2020-01-22 00:30:08 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Completed 404 Not Found in 25ms (ActiveRecord: 17.9ms | Allocations: 3416)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'={:username=>"user7"}):
  
app/controllers/sessions_controller.rb:6:in `create'
Started POST "/sessions" for ::1 at 2020-01-22 00:31:20 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user7' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 2.7ms | Allocations: 4772)


Started POST "/sessions" for ::1 at 2020-01-22 00:31:41 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user7' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.5ms | Allocations: 4559)


Started POST "/sessions" for ::1 at 2020-01-22 00:35:18 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user7' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.4ms | Allocations: 4535)


Started POST "/sessions" for ::1 at 2020-01-22 00:38:53 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user7", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user7' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 1.5ms | Allocations: 4622)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:01:27 -0300
  [1m[35m (47.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 75ms (ActiveRecord: 4.7ms | Allocations: 49391)


  
NoMethodError (undefined method `is_authenticated' for #<ProductsController:0x000055c73ae27ca8>
Did you mean?  is_authenticathed):
  
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:01:57 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 144ms (ActiveRecord: 0.8ms | Allocations: 97213)


  
NameError (undefined local variable or method `errors' for #<ProductsController:0x00007f49301bb658>):
  
app/controllers/sessions_handling.rb:21:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:02:29 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 1334)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started POST "/users" for ::1 at 2020-01-22 13:03:14 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1777)


Started POST "/users" for ::1 at 2020-01-22 13:04:52 -0300
Error occurred while parsing request parameters.
Contents:

{"data":{"type":"users"}"u":"user5", "p":"12345"}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data":{"type":"users"}"u":"user5", "p":"12345"}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data":{"type":"users"}"u":"user5", "p":"12345"}
Started POST "/users" for ::1 at 2020-01-22 13:05:17 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:4:in `create_resource'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 26ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 10360)


Started POST "/users" for ::1 at 2020-01-22 13:06:20 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 26ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 4980)


Started POST "/users" for ::1 at 2020-01-22 13:06:44 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "u"=>"user5", "p"=>"12345"}, "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 779)


Started POST "/users" for ::1 at 2020-01-22 13:07:08 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 4964)


Started POST "/users" for ::1 at 2020-01-22 13:07:30 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4917)


Started POST "/products" for ::1 at 2020-01-22 13:08:16 -0300
Processing by ProductsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{}}, "u"=>"user5", "p"=>"12345", "product"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 436)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/users" for ::1 at 2020-01-22 13:08:57 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{}}, "u"=>"user5", "p"=>"12345", "user"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 755)


Started POST "/users" for ::1 at 2020-01-22 13:09:11 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{}}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 4935)


Started POST "/users" for ::1 at 2020-01-22 13:09:34 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"u"=>"user5", "p"=>"12345"}}, "user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 837)


Started POST "/users" for ::1 at 2020-01-22 13:09:48 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{}, "u"=>"user5", "p"=>"12345"}, "user"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 777)


Started POST "/users" for ::1 at 2020-01-22 13:09:58 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{}}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 4937)


Started POST "/users" for ::1 at 2020-01-22 13:10:27 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"u"=>"user5", "p"=>"12345"}}
Completed 400 Bad Request in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 715)


Started POST "/users" for ::1 at 2020-01-22 13:10:46 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"user"=>{"u"=>"user5", "p"=>"12345"}}, "user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 741)


Started POST "/users" for ::1 at 2020-01-22 13:11:11 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"user"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 730)


Started POST "/users" for ::1 at 2020-01-22 13:11:18 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users"}, "u"=>"user5", "p"=>"12345", "user"=>{}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` IS NULL LIMIT 1[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.9ms | ActiveRecord: 1.7ms | Allocations: 4917)


Started POST "/sessions" for ::1 at 2020-01-22 13:12:00 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"session"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"session"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 0.4ms | Allocations: 2459)


Started GET "/products/in_stock" for ::1 at 2020-01-22 13:12:59 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 499)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:14:04 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 499)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:15:55 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 135ms (ActiveRecord: 0.7ms | Allocations: 97333)


  
NameError (undefined local variable or method `requests' for #<ProductsController:0x00007f4930fd6d78>
Did you mean?  request
               request=
               @_request):
  
app/controllers/sessions_handling.rb:18:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:16:08 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms | Allocations: 1738)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/sessions_handling.rb:19:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:17:00 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 865)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/sessions_handling.rb:19:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:17:28 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 1705)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/sessions_handling.rb:20:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:18:11 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.8ms | Allocations: 1702)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/sessions_handling.rb:20:in `http_auth_header'
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:18:44 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.0ms | Allocations: 1455)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:22:46 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.0ms | Allocations: 1400)


  
TypeError (no implicit conversion of nil into String):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/in_stock" for ::1 at 2020-01-22 13:23:06 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"in_stock", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1433)


  
TypeError (no implicit conversion of nil into String):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sessions" for ::1 at 2020-01-22 16:26:55 -0300
  [1m[35m (46.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 2.3ms | Allocations: 6679)


Started GET "/products" for ::1 at 2020-01-22 16:28:24 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/sessions_handling.rb:14: syntax error, unexpected ')', expecting '.' or &. or :: or '['
...crets.secret_key_base, 'HS256')
...                              ^
/home/nacho/tpi_rails/app/controllers/sessions_handling.rb:27: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/sessions_handling.rb:14: syntax error, unexpected ')', expecting '.' or &. or :: or '['
app/controllers/sessions_handling.rb:27: syntax error, unexpected end-of-input, expecting end
app/controllers/sessions_handling.rb:14: syntax error, unexpected ')', expecting '.' or &. or :: or '['
app/controllers/sessions_handling.rb:27: syntax error, unexpected end-of-input, expecting end
app/controllers/sessions_handling.rb:14: syntax error, unexpected ')', expecting '.' or &. or :: or '['
app/controllers/sessions_handling.rb:27: syntax error, unexpected end-of-input, expecting end
app/controllers/products_controller.rb:2:in `<class:ProductsController>'
app/controllers/products_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2020-01-22 16:28:46 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 4.0ms | Allocations: 1505)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:29:25 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1458)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:29:50 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1499)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-22 16:31:11 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 1346)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:31:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 517)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:31:37 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 1381)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:31:56 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1446)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started POST "/sessions" for ::1 at 2020-01-22 16:32:08 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 2.3ms | Allocations: 4586)


Started GET "/products" for ::1 at 2020-01-22 16:32:28 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 697)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started POST "/sessions" for ::1 at 2020-01-22 16:33:06 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.4ms | Allocations: 4609)


Started GET "/products" for ::1 at 2020-01-22 16:33:26 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms | Allocations: 754)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started POST "/sessions" for ::1 at 2020-01-22 16:35:36 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.3ms | Allocations: 4682)


Started GET "/products" for ::1 at 2020-01-22 16:35:57 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.9ms | Allocations: 754)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:37:46 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 2.4ms | Allocations: 1421)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:38:28 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 135ms (ActiveRecord: 0.8ms | Allocations: 97218)


  
NameError (undefined local variable or method `decoded_token' for #<ProductsController:0x00007fd0f4059048>
Did you mean?  decoded_auth_token):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:38:43 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 133ms (ActiveRecord: 0.7ms | Allocations: 97450)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x000055c0638bc6e8>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:39:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 1426)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/sessions_handling.rb:16:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:40:41 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 124ms (ActiveRecord: 0.7ms | Allocations: 97417)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd0f41666c0>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:41:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 150ms (ActiveRecord: 0.7ms | Allocations: 97416)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd10017a4e8>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:41:41 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.7ms | Allocations: 97459)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd0f40cf2e8>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:42:05 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 124ms (ActiveRecord: 0.6ms | Allocations: 97414)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd0f40dca38>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:42:26 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 154ms (ActiveRecord: 0.6ms | Allocations: 97455)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x000055c0644aeca8>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:43:39 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 136ms (ActiveRecord: 0.7ms | Allocations: 97412)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd1044760f8>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:44:30 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.6ms | Allocations: 97412)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd10017b320>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:44:47 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 137ms (ActiveRecord: 0.7ms | Allocations: 97451)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd1001a4ef0>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:45:05 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 132ms (ActiveRecord: 0.7ms | Allocations: 97410)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd1001f02b0>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:45:32 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 114ms (ActiveRecord: 0.8ms | Allocations: 97449)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd1001c44d0>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:45:49 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 130ms (ActiveRecord: 0.7ms | Allocations: 97403)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd10012e390>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:46:38 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 145ms (ActiveRecord: 0.7ms | Allocations: 97403)


  
NameError (undefined local variable or method `user_id' for #<ProductsController:0x00007fd100011868>
Did you mean?  user_url):
  
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:47:13 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms | Allocations: 2074)


  
TypeError (no implicit conversion of String into Integer):
  
app/controllers/sessions_handling.rb:5:in `[]'
app/controllers/sessions_handling.rb:5:in `is_authenticated'
Started GET "/products" for ::1 at 2020-01-22 16:47:27 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 1.8ms | Allocations: 6873)


Started GET "/products" for ::1 at 2020-01-22 16:48:11 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.4ms | Allocations: 1027)


Started GET "/products/all" for ::1 at 2020-01-22 16:48:25 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:33:in `serialize_product'
Completed 200 OK in 16ms (Views: 1.8ms | ActiveRecord: 2.1ms | Allocations: 6536)


Started GET "/products/all" for ::1 at 2020-01-22 16:48:46 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 564)


  
JWT::VerificationError (Signature verification raised):
  
app/controllers/sessions_handling.rb:14:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/all" for ::1 at 2020-01-22 17:13:20 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1393)


  
JWT::VerificationError (Signature verification raised):
  
app/controllers/sessions_handling.rb:9:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/all" for ::1 at 2020-01-22 17:13:41 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:37:in `serialize_product'
Completed 200 OK in 21ms (Views: 0.4ms | ActiveRecord: 2.7ms | Allocations: 9714)


Started GET "/products/all" for ::1 at 2020-01-22 17:13:57 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 509)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/sessions_handling.rb:9:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/all" for ::1 at 2020-01-22 17:17:15 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1343)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/sessions_handling.rb:9:in `decoded_auth_token'
app/controllers/sessions_handling.rb:4:in `is_authenticated'
Started GET "/products/all" for ::1 at 2020-01-22 17:22:18 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1566)


  
ArgumentError (wrong number of arguments (given 1, expected 2..3)):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:22:48 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.7ms | Allocations: 1418)


Started GET "/products/all" for ::1 at 2020-01-22 17:23:30 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 1565)


  
ArgumentError (wrong number of arguments (given 1, expected 2..3)):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:24:29 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.9ms | Allocations: 1382)


Started GET "/products/all" for ::1 at 2020-01-22 17:25:25 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms | Allocations: 1381)


Started GET "/products/all" for ::1 at 2020-01-22 17:27:20 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.7ms | Allocations: 1373)


Started GET "/products/all" for ::1 at 2020-01-22 17:32:30 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 1.0ms | Allocations: 1382)


Started GET "/products/all" for ::1 at 2020-01-22 17:35:30 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.7ms | Allocations: 1373)


Started GET "/products/all" for ::1 at 2020-01-22 17:35:52 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.7ms | Allocations: 1418)


Started GET "/products/all" for ::1 at 2020-01-22 17:41:35 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2167)


  
NoMethodError (undefined method `new' for JSONAPI::Exceptions:Module):
  
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:42:00 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 133ms (ActiveRecord: 0.8ms | Allocations: 97483)


  
NameError (undefined local variable or method `bad_request' for #<ProductsController:0x00007fd104418bd8>
Did you mean?  @_request):
  
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:42:12 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1571)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:42:23 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.1ms | Allocations: 1613)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:42:50 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1579)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:43:08 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 1614)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:43:19 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 1614)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/products_controller.rb:32:in `new'
app/controllers/products_controller.rb:32:in `index'
Started GET "/products/all" for ::1 at 2020-01-22 17:43:59 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms | Allocations: 1390)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (17.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateClientes (20200123184100)
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE `clientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` int, `cuit` int, `nombre` varchar(255), `razon_social` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `telefonos` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123184100')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateClienteDependientes (20200123194640)
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123194640')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateClienteAutonomos (20200123194938)
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123194938')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateTelefonoNumeros (20200123214023)
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123214023')[0m
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteNumeroTel (20200123214328)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123214328')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteNumeroTel (20200123214328)
  [1m[36mprimary::SchemaMigration Destroy (4.3ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200123214328'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteAutonomoToTelefonoNumero (20200123214810)
  [1m[35m (14.3ms)[0m  [1m[35mALTER TABLE `telefono_numeros` ADD `telefono_numero_id` bigint NOT NULL[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE  INDEX `index_telefono_numeros_on_telefono_numero_id`  ON `telefono_numeros` (`telefono_numero_id`) [0m
  [1m[35m (78.1ms)[0m  [1m[35mALTER TABLE `telefono_numeros` ADD CONSTRAINT `fk_rails_415c848d06`
FOREIGN KEY (`telefono_numero_id`)
  REFERENCES `telefono_numeros` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123214810')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteAutonomoToTelefonoNumero (20200123214810)
  [1m[35m (5.4ms)[0m  [1m[35mALTER TABLE `telefono_numeros` DROP FOREIGN KEY fk_rails_415c848d06[0m
  [1m[35m (9.4ms)[0m  [1m[35mALTER TABLE `telefono_numeros` DROP COLUMN `telefono_numero_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.8ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200123214810'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (11.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (18.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (3.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateSells (20200123230816)
  [1m[35m (61.8ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (2.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123230816')[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDetails (20200123231619)
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123231619')[0m
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSellToDetail (20200123231713)
  [1m[35m (9.0ms)[0m  [1m[35mALTER TABLE `details` ADD `detail_id` bigint NOT NULL[0m
  [1m[35m (24.3ms)[0m  [1m[35mCREATE  INDEX `index_details_on_detail_id`  ON `details` (`detail_id`) [0m
  [1m[35m (58.8ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_6ee5fe7be7`
FOREIGN KEY (`detail_id`)
  REFERENCES `details` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123231713')[0m
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSellToDetail (20200123231713)
  [1m[35m (9.9ms)[0m  [1m[35mALTER TABLE `details` DROP FOREIGN KEY fk_rails_6ee5fe7be7[0m
  [1m[35m (13.1ms)[0m  [1m[35mALTER TABLE `details` DROP COLUMN `detail_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (2.6ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200123231713'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSellToDetail (20200123231713)
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE `details` ADD `sell_id` bigint NOT NULL[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE  INDEX `index_details_on_sell_id`  ON `details` (`sell_id`) [0m
  [1m[35m (50.2ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123231713')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE `details` ADD `product_id` bigint NOT NULL[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE  INDEX `index_details_on_product_id`  ON `details` (`product_id`) [0m
  [1m[35m (59.6ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123232521')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/products" for ::1 at 2020-01-24 11:46:15 -0300
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 1.5ms | Allocations: 1732)


Started GET "/productos" for ::1 at 2020-01-24 11:46:19 -0300
  
ActionController::RoutingError (No route matches [GET] "/productos"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/productos" for ::1 at 2020-01-24 11:56:53 -0300
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 1.4ms | Allocations: 1732)


Started GET "/productos/all" for ::1 at 2020-01-24 11:57:14 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:38:in `serialize_product'
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 5992)


Started GET "/usuarios" for ::1 at 2020-01-24 11:57:52 -0300
  
ActionController::RoutingError (No route matches [GET] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/usuarios" for ::1 at 2020-01-24 11:58:06 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/usuarios" for ::1 at 2020-01-24 11:58:16 -0300
  
ActionController::RoutingError (No route matches [GET] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-01-24 11:58:23 -0300
Processing by UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 6323)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/usuarios" for ::1 at 2020-01-24 12:02:06 -0300
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/usuarios" for ::1 at 2020-01-24 12:08:15 -0300
  [1m[35m (2.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActionController::RoutingError (No route matches [GET] "/usuarios"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-01-24 12:08:30 -0300
Processing by UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 6323)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/sells" for ::1 at 2020-01-24 12:28:55 -0300
  [1m[35m (2.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#show as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` IS NULL ORDER BY `sells`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 17ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4470)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/sells" for ::1 at 2020-01-24 12:30:16 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 3.9ms | Allocations: 3056)


Started GET "/sells" for ::1 at 2020-01-24 12:33:22 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: uninitialized constant SellProcessor::SessionHandlig
Did you mean?  SessionsHandling /home/nacho/tpi_rails/app/processors/sell_processor.rb:2:in `<class:SellProcessor>'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:1:in `<main>'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/zeitwerk-2.2.2/lib/zeitwerk/kernel.rb:16:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:282:in `const_get'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:282:in `block in constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `inject'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:325:in `safe_constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/core_ext/string/inflections.rb:79:in `safe_constantize'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:26:in `_processor_from_resource_type'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:12:in `transactional?'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:21:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:20:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:20:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 4484)


Started GET "/sells" for ::1 at 2020-01-24 12:33:53 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: undefined method `before_action' for SellProcessor:Class
Did you mean?  before_find /home/nacho/tpi_rails/app/processors/sell_processor.rb:3:in `<class:SellProcessor>'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:1:in `<main>'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/home/nacho/.gem/ruby/2.6.5/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/zeitwerk-2.2.2/lib/zeitwerk/kernel.rb:16:in `require'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:282:in `const_get'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:282:in `block in constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `inject'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:280:in `constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/inflector/methods.rb:325:in `safe_constantize'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/core_ext/string/inflections.rb:79:in `safe_constantize'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:26:in `_processor_from_resource_type'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:12:in `transactional?'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:21:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:20:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:20:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 3525)


Started GET "/sells" for ::1 at 2020-01-24 12:34:41 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 2607)


Started GET "/sells" for ::1 at 2020-01-24 12:34:46 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 2213)


Started GET "/products" for ::1 at 2020-01-24 12:34:53 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 5ms (ActiveRecord: 1.1ms | Allocations: 1961)


Started GET "/sells" for ::1 at 2020-01-24 12:41:58 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2581)


Started GET "/sells" for ::1 at 2020-01-24 12:50:36 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2545)


Started GET "/products" for ::1 at 2020-01-24 12:53:03 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 570)


Started GET "/products/all" for ::1 at 2020-01-24 12:53:09 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 544)


Started GET "/products/all" for ::1 at 2020-01-24 12:53:54 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.7ms | Allocations: 1501)


Started GET "/products/all" for ::1 at 2020-01-24 12:55:29 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 7.8ms | Allocations: 1514)


Started GET "/products/all" for ::1 at 2020-01-24 12:56:13 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.8ms | Allocations: 1501)


Started GET "/sells" for ::1 at 2020-01-24 12:56:16 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.7ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 2.4ms | Allocations: 2583)


Started GET "/sells" for ::1 at 2020-01-24 12:56:29 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 2578)


Started GET "/sells" for ::1 at 2020-01-24 12:57:23 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 2532)


Started GET "/sells" for ::1 at 2020-01-24 13:00:27 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 2527)


Started GET "/sells" for ::1 at 2020-01-24 13:00:56 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 2570)


Started GET "/sells" for ::1 at 2020-01-24 13:01:53 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 2581)


Started GET "/sells" for ::1 at 2020-01-24 13:05:47 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 3466)


Started GET "/sells" for ::1 at 2020-01-24 13:11:16 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 3445)


Started GET "/sells" for ::1 at 2020-01-24 13:11:34 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 3541)


Started GET "/sells" for ::1 at 2020-01-24 13:12:19 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.4ms | Allocations: 3491)


Started GET "/sells" for ::1 at 2020-01-24 13:12:38 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 3542)


Started GET "/sells" for ::1 at 2020-01-24 14:40:37 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: undefined local variable or method `user' for #<SellProcessor:0x00007fd52c23bed8>
Did you mean?  super /home/nacho/tpi_rails/app/processors/sell_processor.rb:5:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 4078)


Started GET "/sells" for ::1 at 2020-01-24 14:41:05 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/sell_processor.rb:5:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3468)


Started GET "/sells" for ::1 at 2020-01-24 14:41:30 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 7.1ms | ActiveRecord: 0.8ms | Allocations: 3315)


Started GET "/sells" for ::1 at 2020-01-24 14:42:36 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 3317)


Started POST "/productscurl" for ::1 at 2020-01-24 14:43:30 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 14:43:30 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.6ms | Allocations: 5917)


  
NoMethodError (undefined method `min' for 30:Integer):
  
app/controllers/sessions_controller.rb:10:in `create'
Started POST "/productscurl" for ::1 at 2020-01-24 14:44:47 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 14:44:47 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 2.2ms | Allocations: 5785)


Started POST "/productscurl" for ::1 at 2020-01-24 14:45:45 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 14:45:45 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.3ms | Allocations: 4501)


Started GET "/sells" for ::1 at 2020-01-24 14:47:08 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 2861)


Started GET "/sells" for ::1 at 2020-01-24 14:47:57 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:5:in `find'
Internal Server Error: undefined method `find' for #<JSONAPI::ResourcesOperationResult:0x0000561c7fc0eb20> /home/nacho/tpi_rails/app/processors/sell_processor.rb:5:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 13ms (Views: 0.9ms | ActiveRecord: 2.8ms | Allocations: 8135)


Started GET "/sells" for ::1 at 2020-01-24 14:49:22 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:5:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 6652)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteAutonomoToSell (20200124180842)
  [1m[35m (21.2ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_autonomo_id` bigint NOT NULL[0m
  [1m[35m (22.6ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_autonomo_id`  ON `sells` (`cliente_autonomo_id`) [0m
  [1m[35m (61.0ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_64dd579914`
FOREIGN KEY (`cliente_autonomo_id`)
  REFERENCES `cliente_autonomos` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180842')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_user_id`  ON `sells` (`user_id`) [0m
  [1m[35m (49.8ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180914')[0m
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalToSell (20200124180959)
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE `sells` ADD `total` decimal[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180959')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteDependienteToSell (20200124181232)
  [1m[35m (6.9ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_dependiente_id` bigint NOT NULL[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_dependiente_id`  ON `sells` (`cliente_dependiente_id`) [0m
  [1m[35m (49.6ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_2012e06e6a`
FOREIGN KEY (`cliente_dependiente_id`)
  REFERENCES `cliente_dependientes` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124181232')[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/sells" for ::1 at 2020-01-24 15:23:25 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: uninitialized constant JSONAPI::ErrorOperationResult
Did you mean?  JSONAPI::ErrorsOperationResult /home/nacho/tpi_rails/app/processors/sell_processor.rb:49:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 5264)


Started GET "/sells" for ::1 at 2020-01-24 15:24:03 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 2933)


Started GET "/sells" for ::1 at 2020-01-24 15:25:05 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Completed 0  in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1835)


Started GET "/sells" for ::1 at 2020-01-24 15:26:01 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Completed 0  in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 798)


Started POST "/productscurl" for ::1 at 2020-01-24 15:37:43 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 15:37:43 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 1.2ms | Allocations: 4988)


Started GET "/sells" for ::1 at 2020-01-24 15:38:07 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.9ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:26:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 2234)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteDependienteToSell (20200124181232)
  [1m[35m (5.4ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_2012e06e6a[0m
  [1m[35m (16.4ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `cliente_dependiente_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.9ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124181232'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddTotalToSell (20200124180959)
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `total`[0m
  [1m[36mprimary::SchemaMigration Destroy (4.7ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180959'[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_d7ef18de7f[0m
  [1m[35m (13.2ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `user_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.9ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180914'[0m
Migrating to AddClienteAutonomoToSell (20200124180842)
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_64dd579914[0m
  [1m[35m (11.1ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `cliente_autonomo_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (5.1ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180842'[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE `details` DROP FOREIGN KEY fk_rails_77aa393cf6[0m
  [1m[35m (10.8ms)[0m  [1m[35mALTER TABLE `details` DROP COLUMN `product_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (4.1ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200123232521'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (6.0ms)[0m  [1m[35mALTER TABLE `details` ADD `product_id` bigint NOT NULL[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE  INDEX `index_details_on_product_id`  ON `details` (`product_id`) [0m
  [1m[35m (66.2ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200123232521')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteAutonomoToSell (20200124180842)
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_autonomo_id` bigint[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_autonomo_id`  ON `sells` (`cliente_autonomo_id`) [0m
  [1m[35m (43.6ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_64dd579914`
FOREIGN KEY (`cliente_autonomo_id`)
  REFERENCES `cliente_autonomos` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180842')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (6.4ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_user_id`  ON `sells` (`user_id`) [0m
  [1m[35m (56.3ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180914')[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalToSell (20200124180959)
  [1m[35m (7.3ms)[0m  [1m[35mALTER TABLE `sells` ADD `total` decimal[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180959')[0m
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteDependienteToSell (20200124181232)
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_dependiente_id` bigint[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_dependiente_id`  ON `sells` (`cliente_dependiente_id`) [0m
  [1m[35m (57.9ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_2012e06e6a`
FOREIGN KEY (`cliente_dependiente_id`)
  REFERENCES `cliente_dependientes` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124181232')[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/sells" for ::1 at 2020-01-24 15:55:32 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:26:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 11705)


Started POST "/productscurl" for ::1 at 2020-01-24 15:55:54 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 15:55:54 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user4' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 1.7ms | Allocations: 1079)


Started GET "/sells" for ::1 at 2020-01-24 15:56:14 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:26:in `find'
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 2127)


Started GET "/sells" for ::1 at 2020-01-24 15:57:41 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `each' for 4:Integer /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:882:in `verify_filters'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:12:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.8ms | ActiveRecord: 1.9ms | Allocations: 8213)


Started GET "/sells" for ::1 at 2020-01-24 15:58:14 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_a' for 4:Integer
Did you mean?  to_c
               to_d
               to_r
               to_f
               to_i
               to_s /home/nacho/tpi_rails/app/processors/sell_processor.rb:6:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 8358)


Started GET "/sells" for ::1 at 2020-01-24 15:59:29 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_sym' for 4:Integer
Did you mean?  to_s /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:742:in `apply_filter'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:768:in `block in apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:801:in `filter_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:1199:in `find_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:820:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:28:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 2.0ms | Allocations: 8391)


Started GET "/sells" for ::1 at 2020-01-24 16:00:30 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_sym' for {:user_id=>4}:Hash
Did you mean?  to_s
               to_set /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:742:in `apply_filter'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:768:in `block in apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:801:in `filter_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:1199:in `find_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:820:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:28:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 12ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 8496)


Started GET "/sells" for ::1 at 2020-01-24 16:01:18 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_sym' for 4:Integer
Did you mean?  to_s /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:742:in `apply_filter'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:768:in `block in apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:801:in `filter_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:1199:in `find_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:820:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:28:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 8391)


Started GET "/sells" for ::1 at 2020-01-24 16:15:57 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `each' for :find_by_user_id:Symbol /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:882:in `verify_filters'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:12:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 29ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 7814)


Started GET "/sells" for ::1 at 2020-01-24 16:16:49 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE 1=0 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 2.6ms | Allocations: 7292)


Started POST "/productscurl" for ::1 at 2020-01-24 16:17:09 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 16:17:09 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.8ms | Allocations: 1078)


Started GET "/sells" for ::1 at 2020-01-24 16:17:32 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE 1=0 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 1939)


Started GET "/sells" for ::1 at 2020-01-24 16:18:29 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE 1=0 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:29:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 2.6ms | Allocations: 7329)


Started GET "/sells" for ::1 at 2020-01-24 16:19:53 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.2ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE 1=0 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:29:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 7329)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started GET "/sells" for ::1 at 2020-01-24 16:28:36 -0300
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:26:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 21ms (Views: 0.6ms | ActiveRecord: 3.9ms | Allocations: 10806)


Started GET "/sells" for ::1 at 2020-01-24 16:29:03 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Completed 0  in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 843)


Started POST "/productscurl" for ::1 at 2020-01-24 16:29:30 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 16:29:30 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user4' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms | Allocations: 2446)


Started GET "/sells" for ::1 at 2020-01-24 16:29:53 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.6ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:26:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 2219)


Started GET "/sells" for ::1 at 2020-01-24 16:31:52 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 4 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:21:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 7244)


Started GET "/sells" for ::1 at 2020-01-24 16:32:03 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Completed 0  in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 798)


Started POST "/productscurl" for ::1 at 2020-01-24 16:32:28 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 16:32:28 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms | Allocations: 1094)


Started GET "/sells" for ::1 at 2020-01-24 16:32:47 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.7ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:21:in `find'
Internal Server Error: Unknown source type #<Sell id: 1, date: "2020-01-24 00:00:00", created_at: "2020-01-24 00:00:00", updated_at: "2020-01-24 00:00:00", cliente_autonomo_id: nil, user_id: 5, total: 100, cliente_dependiente_id: 1> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:267:in `top_level_source_key'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `block in serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `map'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:116:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 19ms (Views: 0.6ms | ActiveRecord: 2.6ms | Allocations: 8378)


Started GET "/sells" for ::1 at 2020-01-24 16:55:06 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_sym' for 5:Integer
Did you mean?  to_s /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:742:in `apply_filter'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:768:in `block in apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:801:in `filter_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:1199:in `find_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:820:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:29:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 8263)


Started GET "/sells" for ::1 at 2020-01-24 16:56:09 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `to_sym' for {:user=>5}:Hash
Did you mean?  to_s
               to_set /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:742:in `apply_filter'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:768:in `block in apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:759:in `apply_filters'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:801:in `filter_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:1199:in `find_records'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:820:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:30:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 8504)


Started GET "/sells" for ::1 at 2020-01-24 16:57:43 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 12350)


Started POST "/productscurl" for ::1 at 2020-01-24 16:58:21 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 16:58:21 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user4' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms | Allocations: 1078)


Started POST "/productscurl" for ::1 at 2020-01-24 16:58:30 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 16:58:30 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user4", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user4' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms | Allocations: 909)


Started GET "/sells" for ::1 at 2020-01-24 16:59:04 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.7ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.6ms | Allocations: 2206)


Started GET "/sells" for ::1 at 2020-01-24 16:59:36 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 2.5ms | Allocations: 12318)


Started GET "/sells" for ::1 at 2020-01-24 17:00:34 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined local variable or method `user_id' for #<SellProcessor:0x00007f7cac190f98> /home/nacho/tpi_rails/app/processors/sell_processor.rb:20:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 8816)


Started GET "/sells" for ::1 at 2020-01-24 17:01:20 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 4 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 2.6ms | Allocations: 7762)


Started POST "/productscurl" for ::1 at 2020-01-24 17:01:34 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-24 17:01:34 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms | Allocations: 1080)


Started GET "/sells" for ::1 at 2020-01-24 17:02:00 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (1.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 200 OK in 43ms (Views: 1.4ms | ActiveRecord: 3.0ms | Allocations: 6554)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/productscurl" for ::1 at 2020-01-25 11:09:27 -0300
  [1m[35m (38.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-25 11:09:27 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 7.7ms | Allocations: 6225)


Started POST "/productscurl" for ::1 at 2020-01-25 11:11:04 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-25 11:11:04 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 2.1ms | Allocations: 4965)


Started GET "/sells" for ::1 at 2020-01-25 11:12:20 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (1.1ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 5 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:28:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 23ms (Views: 2.5ms | ActiveRecord: 3.4ms | Allocations: 7852)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddClienteDependienteToSell (20200124181232)
  [1m[35m (10.3ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_2012e06e6a[0m
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `cliente_dependiente_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (2.4ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124181232'[0m
Migrating to AddTotalToSell (20200124180959)
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `total`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.5ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180959'[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_d7ef18de7f[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `user_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.9ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180914'[0m
Migrating to AddClienteAutonomoToSell (20200124180842)
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE `sells` DROP FOREIGN KEY fk_rails_64dd579914[0m
  [1m[35m (7.5ms)[0m  [1m[35mALTER TABLE `sells` DROP COLUMN `cliente_autonomo_id`[0m
  [1m[36mprimary::SchemaMigration Destroy (3.2ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20200124180842'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_user_id`  ON `sells` (`user_id`) [0m
  [1m[35m (30.3ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateSells (20200123230816)
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE `sells`[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddProductToDetail (20200123232521)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (61.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_development`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (44.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_test`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (45.0ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (50.3ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (45.4ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200123232521)[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713);

[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-25 14:41:23.305093', '2020-01-25 14:41:23.305093')[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '398c0e62a5d093de484b683dcc0d73159d7d04a3', '2020-01-25 14:41:23.321159', '2020-01-25 14:41:23.321159')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (51.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (21.5ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (48.8ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (51.3ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (31.1ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200123232521)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713);

[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-25 14:41:23.722389', '2020-01-25 14:41:23.722389')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2020-01-25 14:41:23.739093' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '398c0e62a5d093de484b683dcc0d73159d7d04a3', '2020-01-25 14:41:23.753218', '2020-01-25 14:41:23.753218')[0m
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (73.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_development`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (94.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_test`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (70.3ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (63.6ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (44.5ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200123232521)[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713);

[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-25 14:43:34.183763', '2020-01-25 14:43:34.183763')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '398c0e62a5d093de484b683dcc0d73159d7d04a3', '2020-01-25 14:43:34.197819', '2020-01-25 14:43:34.197819')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_items_on_product_id`  (`product_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (48.9ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (50.5ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (53.4ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200123232521)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713);

[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-25 14:43:34.576680', '2020-01-25 14:43:34.576680')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2020-01-25 14:43:34.591420' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '398c0e62a5d093de484b683dcc0d73159d7d04a3', '2020-01-25 14:43:34.599829', '2020-01-25 14:43:34.599829')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddUserToSell (20200124180914)
  [1m[35m (6.0ms)[0m  [1m[35mALTER TABLE `sells` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_user_id`  ON `sells` (`user_id`) [0m
  [1m[35m (36.4ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180914')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalToSell (20200124180959)
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE `sells` ADD `total` decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200124180959')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteAutonomoToSell (20200125142045)
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_autonomo_id` bigint[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_autonomo_id`  ON `sells` (`cliente_autonomo_id`) [0m
  [1m[35m (48.7ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_64dd579914`
FOREIGN KEY (`cliente_autonomo_id`)
  REFERENCES `cliente_autonomos` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200125142045')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddClienteDependienteToSell (20200125142104)
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE `sells` ADD `cliente_dependiente_id` bigint[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE  INDEX `index_sells_on_cliente_dependiente_id`  ON `sells` (`cliente_dependiente_id`) [0m
  [1m[35m (70.0ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_2012e06e6a`
FOREIGN KEY (`cliente_dependiente_id`)
  REFERENCES `cliente_dependientes` (`id`)
[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200125142104')[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTipoClienteToSell (20200125142157)
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE `sells` ADD `tipo_cliente` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200125142157')[0m
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/productscurl" for ::1 at 2020-01-25 11:52:05 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-25 11:52:06 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.3ms | Allocations: 4840)


Started GET "/products" for ::1 at 2020-01-25 11:52:42 -0300
Processing by ProductsController#index as JSON
  Parameters: {"product"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 1.1ms | Allocations: 2370)


Started GET "/products/all" for ::1 at 2020-01-25 11:52:49 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
No template found for ProductsController#index, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.6ms | Allocations: 893)


Started GET "/products/all" for ::1 at 2020-01-25 11:53:42 -0300
Processing by ProductsController#index as JSON
  Parameters: {"q"=>"all", "product"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ↳ app/controllers/products_controller.rb:38:in `serialize_product'
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 11022)


Started GET "/products/1" for ::1 at 2020-01-25 11:54:29 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"1", "product"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 13ms (Views: 1.4ms | ActiveRecord: 1.7ms | Allocations: 3820)


Started GET "/products/3" for ::1 at 2020-01-25 11:54:35 -0300
Processing by ProductsController#show as JSON
  Parameters: {"id"=>"3", "product"=>{}}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 ORDER BY `products`.`id` ASC LIMIT 1[0m
Completed 404 Not Found in 13ms (Views: 0.1ms | ActiveRecord: 5.4ms | Allocations: 4528)


Started GET "/products/1/items" for ::1 at 2020-01-25 11:54:57 -0300
Processing by ItemsController#index as JSON
  Parameters: {"product_id"=>"1", "item"=>{}}
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT `items`.* FROM `items` ORDER BY `items`.`id` ASC[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 2778)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSoldPriceToItem (20200125150539)
  [1m[35m (11.1ms)[0m  [1m[35mALTER TABLE `items` ADD `sold_price` decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200125150539')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/products/1/items" for ::1 at 2020-01-25 12:19:36 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "attributes"=>{"cantidad"=>0}}, "product_id"=>"1", "item"=>{}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/items_controller.rb:7:in `create'
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.4ms | Allocations: 7696)


Started POST "/products/1/items" for ::1 at 2020-01-25 12:20:21 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "attributes"=>{"cantidad"=>0}}, "product_id"=>"1", "item"=>{}}
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1753)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:11:41 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "meta":{"cantidad": 0}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "meta":{"cantidad": 0}}}
Started POST "/products/1/items" for ::1 at 2020-01-25 13:12:10 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1403)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/item_processor.rb:17: syntax error, unexpected end-of-input, expecting end):
  
app/processors/item_processor.rb:17: syntax error, unexpected end-of-input, expecting end
app/processors/item_processor.rb:17: syntax error, unexpected end-of-input, expecting end
app/processors/item_processor.rb:17: syntax error, unexpected end-of-input, expecting end
Started POST "/products/1/items" for ::1 at 2020-01-25 13:12:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 3729)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:13:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3687)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:14:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 12ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 3108)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:14:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 3116)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:15:18 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 3147)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:17:04 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "cantidad"=>0, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 9ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 2059)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:18:33 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "cantidad"=>0, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.9ms | Allocations: 3088)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:18:49 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "cantidad"=>0, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 3134)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-25 13:18:59 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "cantidad"=>0, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 19ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 3268)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:20:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "cantidad"=>0, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `cant_items' for #<ItemProcessor:0x00007f50782a93e0> /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 4388)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:21:30 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `cant_items' for #<ItemProcessor:0x00007f507035fd00> /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 4378)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:22:02 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `cant_items' for #<ItemProcessor:0x00007f50740222d8> /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.7ms | ActiveRecord: 1.0ms | Allocations: 4386)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:22:35 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3698)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:23:57 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.9ms | ActiveRecord: 0.9ms | Allocations: 3709)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:24:24 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2671)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:24:53 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 1.5ms | ActiveRecord: 1.1ms | Allocations: 3055)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:26:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 1.8ms | Allocations: 451)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-25 13:27:03 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "attributes"=>{"cantidad"=>0}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.8ms | Allocations: 394)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-25 13:28:30 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "attributes"=>{"cantidad"=>0}}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 1.0ms | Allocations: 445)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/productscurl" for ::1 at 2020-01-25 13:28:39 -0300
  
ActionController::RoutingError (No route matches [POST] "/productscurl"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-25 13:28:39 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 2.2ms | Allocations: 6799)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:29:14 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 430)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-25 13:30:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 3068)


Started POST "/users" for ::1 at 2020-01-25 13:32:40 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}
Started POST "/users" for ::1 at 2020-01-25 13:33:49 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"users", "attributes":{"username":"user2" "password":"12345"}}}
Started POST "/users" for ::1 at 2020-01-25 13:38:44 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"user5", "password"=>"[FILTERED]"}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 768)


Started POST "/users" for ::1 at 2020-01-25 13:40:28 -0300
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"user5", "password"=>"[FILTERED]"}}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1649)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/users" for ::1 at 2020-01-25 13:41:01 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"username"=>"user5", "password"=>"[FILTERED]"}}
Completed 400 Bad Request in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1859)


Started POST "/users" for ::1 at 2020-01-25 13:41:42 -0300
Error occurred while parsing request parameters.
Contents:

{"data":{"type":"user". "attributes":{"username":"user5", "password":"12345"}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data":{"type":"user". "attributes":{"username":"user5", "password":"12345"}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data":{"type":"user". "attributes":{"username":"user5", "password":"12345"}}}
Started POST "/users" for ::1 at 2020-01-25 13:42:04 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user5", "password"=>"[FILTERED]"}}, "user"=>{}}
Internal Server Error: no implicit conversion of Hash into String /home/nacho/tpi_rails/app/processors/user_processor.rb:4:in `+'
/home/nacho/tpi_rails/app/processors/user_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 1.1ms | ActiveRecord: 1.8ms | Allocations: 2378)


Started POST "/users" for ::1 at 2020-01-25 13:42:45 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user5", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:5:in `create_resource'
  [1m[36mUser Exists? (9.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user5' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user5', '12345', '2020-01-25 16:42:45.857767', '2020-01-25 16:42:45.857767')[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 29ms (Views: 0.8ms | ActiveRecord: 14.4ms | Allocations: 9322)


Started POST "/products" for ::1 at 2020-01-25 13:49:19 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 1.0ms | Allocations: 459)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-25 13:49:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 12ms (Views: 4.1ms | ActiveRecord: 243.5ms | Allocations: 2138)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:50:31 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
No template found for ItemsController#create, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.8ms | Allocations: 2570)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:51:20 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 3097)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:51:56 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `>' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3721)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:52:48 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/item_processor.rb:5:in `[]'
/home/nacho/tpi_rails/app/processors/item_processor.rb:5:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 3344)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:53:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/item_processor.rb:5:in `[]'
/home/nacho/tpi_rails/app/processors/item_processor.rb:5:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3331)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:54:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `cant_items' for #<ItemProcessor:0x000055b25d594650> /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 4361)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:55:02 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>0}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 3051)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:55:41 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
Internal Server Error: undefined local variable or method `data' for #<ItemProcessor:0x00007f5cfc3ea408> /home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 13ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 8370)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:56:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
Internal Server Error: wrong number of arguments (given 0, expected 1) /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:110:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms | Allocations: 8314)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:56:55 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:10:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:10:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 8806)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:57:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x000055b25d5a3bc8>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:14:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 12ms (Views: 1.0ms | ActiveRecord: 1.5ms | Allocations: 9435)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:58:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 8349)


Started POST "/products/1/items" for ::1 at 2020-01-25 13:59:21 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 1670)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:00:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 8287)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:41:02 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `paras' for #<ItemsController:0x00007f5cec19c990>
Did you mean?  params
               params=
               @_params /home/nacho/tpi_rails/app/controllers/items_controller.rb:9:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 307ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 192444)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:41:31 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `[]'
/home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 3363)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:42:06 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `[]'
/home/nacho/tpi_rails/app/processors/item_processor.rb:6:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 3345)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:42:38 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `>' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 3725)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:43:25 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.9ms | Allocations: 3065)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:44:20 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/items_controller.rb:9: syntax error, unexpected '\n', expecting =>
/home/nacho/tpi_rails/app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
        }
        ^):
  
app/controllers/items_controller.rb:9: syntax error, unexpected '\n', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:9: syntax error, unexpected '\n', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:9: syntax error, unexpected '\n', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
Started POST "/products/1/items" for ::1 at 2020-01-25 14:44:56 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/items_controller.rb:9: syntax error, unexpected ',', expecting =>
...ms = params[:meta]['cantidad'],
...                              ^
/home/nacho/tpi_rails/app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
        }
        ^):
  
app/controllers/items_controller.rb:9: syntax error, unexpected ',', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:9: syntax error, unexpected ',', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:9: syntax error, unexpected ',', expecting =>
app/controllers/items_controller.rb:11: syntax error, unexpected '}', expecting end
Started POST "/products/1/items" for ::1 at 2020-01-25 14:45:34 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `>' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 3734)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:46:15 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `[]'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 8441)


Started POST "/users" for ::1 at 2020-01-25 14:47:56 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user2", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user2' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user2', '12345', '2020-01-25 17:47:56.627842', '2020-01-25 17:47:56.627842')[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 22ms (Views: 1.1ms | ActiveRecord: 6.6ms | Allocations: 8501)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:49:49 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `[]'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:14:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 8396)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:51:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `[]'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:14:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 10ms (Views: 1.1ms | ActiveRecord: 1.5ms | Allocations: 8440)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:53:28 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:14:in `block in create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `[]'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:15:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 12ms (Views: 1.1ms | ActiveRecord: 2.5ms | Allocations: 8398)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:57:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `cantidad' for #<ItemProcessor:0x000055b25d865a78> /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 4313)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:57:51 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 3709)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:58:20 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 3664)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:58:44 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.7ms | ActiveRecord: 0.7ms | Allocations: 3663)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:59:29 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 3684)


Started POST "/products/1/items" for ::1 at 2020-01-25 14:59:56 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 3151)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:01:06 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 3108)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:01:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 3071)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:02:11 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/items_controller.rb:9: syntax error, unexpected '}', expecting =>
        {p = params}
                   ^):
  
app/controllers/items_controller.rb:9: syntax error, unexpected '}', expecting =>
app/controllers/items_controller.rb:9: syntax error, unexpected '}', expecting =>
app/controllers/items_controller.rb:9: syntax error, unexpected '}', expecting =>
Started POST "/products/1/items" for ::1 at 2020-01-25 15:02:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 3074)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:03:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 1.1ms | Allocations: 3125)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:04:16 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.7ms | ActiveRecord: 0.8ms | Allocations: 3055)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:05:15 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 3671)


Started POST "/products/1/items" for ::1 at 2020-01-25 15:06:19 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:5:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 3721)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-25 16:02:54 -0300
  [1m[35m (39.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/items_controller.rb:9:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/items_controller.rb:9:in `block in create'
Internal Server Error: Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return". /home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:35:in `render'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/core_ext/benchmark.rb:14:in `block in ms'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/benchmark.rb:308:in `realtime'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/core_ext/benchmark.rb:14:in `ms'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:44:in `block in render'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:85:in `cleanup_view_runtime'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:34:in `cleanup_view_runtime'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:43:in `render'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:246:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/tpi_rails/app/controllers/items_controller.rb:9:in `block in create'
/home/nacho/tpi_rails/app/controllers/items_controller.rb:8:in `times'
/home/nacho/tpi_rails/app/controllers/items_controller.rb:8:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 20ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 11537)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/items_controller.rb:9:in `block in create'
app/controllers/items_controller.rb:8:in `times'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-25 16:04:50 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 2309)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/item_processor.rb:7: syntax error, unexpected end, expecting end-of-input):
  
app/processors/item_processor.rb:7: syntax error, unexpected end, expecting end-of-input
app/processors/item_processor.rb:7: syntax error, unexpected end, expecting end-of-input
app/processors/item_processor.rb:7: syntax error, unexpected end, expecting end-of-input
Started POST "/products/1/items" for ::1 at 2020-01-25 16:05:46 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of Hash into String /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `+'
/home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 3328)


Started POST "/products/1/items" for ::1 at 2020-01-25 16:06:18 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 3161)


Started POST "/products/1/items" for ::1 at 2020-01-25 16:08:34 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:5:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8264)


Started POST "/products/1/items" for ::1 at 2020-01-25 16:09:36 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"} "relationships": {, "meta":{"cantidad":2}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"items"} "relationships": {, "meta":{"cantidad":2}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"} "relationships": {, "meta":{"cantidad":2}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:10:24 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"} "relationships":{"product": 1}, "meta":{"cantidad":2}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"items"} "relationships":{"product": 1}, "meta":{"cantidad":2}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"} "relationships":{"product": 1}, "meta":{"cantidad":2}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:10:45 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "relationships"=>{"product"=>1}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1662)


Started POST "/products/1/items" for ::1 at 2020-01-25 16:11:40 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "relationships"=>{"product"=>{"id"=>"1"}}, "meta"=>{"cantidad"=>2}, "product_id"=>"1", "item"=>{}}
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1666)


Started POST "/products/1/items" for ::1 at 2020-01-25 16:12:46 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "relationships":{"product":{"data":{"type":products","id":"1"}}}, "meta":{"cantidad":2}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"items"}, "relationships":{"product":{"data":{"type":products","id":"1"}}}, "meta":{"cantidad":2}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "relationships":{"product":{"data":{"type":products","id":"1"}}}, "meta":{"cantidad":2}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:15:03 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"items"}, "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items"}, "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:15:57 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type":"items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type":"items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:17:28 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": products","id": "1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:18:20 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","id": "1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","id": "1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","id": "1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:18:49 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","product_id": "1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","product_id": "1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships":{"product": {"data": {"type": "products","product_id": "1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-25 16:20:47 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-26 19:14:43 -0300
  [1m[35m (49.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-26 19:17:21 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "attributes": {"product_id": "1"}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-26 19:18:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x00007f23f007b2d0>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 17ms (Views: 0.7ms | ActiveRecord: 7.5ms | Allocations: 6632)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:23:47 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:6:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8627)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:25:47 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1700)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:29:07 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}
Started POST "/products/1/items" for ::1 at 2020-01-26 19:30:48 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items"}, "relationships":{"product":{"data": {"type":"products","id": "1"}
Started POST "/products/1/items" for ::1 at 2020-01-26 19:30:59 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:7:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 7327)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:32:42 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 135ms (ActiveRecord: 1.1ms | Allocations: 97357)


  
NameError (undefined local variable or method `data' for #<ItemsController:0x00007f23e430b768>):
  
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:33:07 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 166ms (ActiveRecord: 0.8ms | Allocations: 97548)


  
NameError (undefined local variable or method `create_resource' for #<ItemsController:0x00005572bf5fce68>
Did you mean?  create_response_document):
  
app/controllers/items_controller.rb:9:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:33:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 1436)


  
TypeError (no implicit conversion of ActionController::Parameters into String):
  
app/controllers/items_controller.rb:8:in `+'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:34:00 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 141ms (ActiveRecord: 0.6ms | Allocations: 97538)


  
NameError (undefined local variable or method `create_resource' for #<ItemsController:0x00007f23f8442e88>
Did you mean?  create_response_document):
  
app/controllers/items_controller.rb:9:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:34:33 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 122ms (ActiveRecord: 0.8ms | Allocations: 97505)


  
NameError (undefined local variable or method `create_resource' for #<ItemsController:0x00005572bcb2e178>
Did you mean?  create_response_document):
  
app/controllers/items_controller.rb:9:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:37:48 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:6:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8275)


Started POST "/products/1/items7" for ::1 at 2020-01-26 19:38:42 -0300
  
ActionController::RoutingError (No route matches [POST] "/products/1/items7"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-26 19:38:55 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:6:in `create_resource'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 7258)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:40:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 8248)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:41:09 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 8253)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:41:53 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 8258)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:42:19 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
Internal Server Error: undefined method `each' for "1":String /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:407:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 9445)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:43:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
Internal Server Error: undefined method `each' for "1":String /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:407:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 16ms (Views: 1.2ms | ActiveRecord: 1.7ms | Allocations: 9416)


Started POST "/products/1/items" for ::1 at 2020-01-26 19:49:27 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2296)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/item_processor.rb:5: syntax error, unexpected '}', expecting =>
...tes] = { context[:product_id] }
...                              ^):
  
app/processors/item_processor.rb:5: syntax error, unexpected '}', expecting =>
app/processors/item_processor.rb:5: syntax error, unexpected '}', expecting =>
app/processors/item_processor.rb:5: syntax error, unexpected '}', expecting =>
Started POST "/products/1/items" for ::1 at 2020-01-26 19:49:52 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 22:49:52.995740', '2020-01-26 22:49:52.995740', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `create_resource'
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 35ms (Views: 1.2ms | ActiveRecord: 8.4ms | Allocations: 14695)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:41:56 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `times' for nil:NilClass /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 3708)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:42:58 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `times' for "2":String /home/nacho/tpi_rails/app/processors/item_processor.rb:4:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 15ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 4222)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:43:50 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:7:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:43:50.536604', '2020-01-26 23:43:50.536604', 1)[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mItem Create (10.9ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:43:50.540138', '2020-01-26 23:43:50.540138', 1)[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x00007f23ec242568>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (6.8ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 47ms (Views: 0.8ms | ActiveRecord: 21.1ms | Allocations: 18316)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:46:20 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 123ms (ActiveRecord: 0.8ms | Allocations: 97506)


  
NameError (undefined local variable or method `create_resource' for #<ItemsController:0x00005572bf218658>
Did you mean?  create_response_document):
  
app/controllers/items_controller.rb:9:in `block in create'
app/controllers/items_controller.rb:8:in `times'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 20:47:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 98ms (ActiveRecord: 0.8ms | Allocations: 50370)


  
NoMethodError (undefined method `create_resource' for #<ItemsController:0x00005572bf5094c0>
Did you mean?  create_response_document):
  
app/controllers/items_controller.rb:9:in `block in create'
app/controllers/items_controller.rb:8:in `times'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 20:48:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.9ms | Allocations: 3598)


  
NameError (uninitialized constant JSONAPI::ItemProcessor
Did you mean?  SellProcessor):
  
app/controllers/items_controller.rb:9:in `block in create'
app/controllers/items_controller.rb:8:in `times'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 20:49:38 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.1ms | Allocations: 3587)


  
NameError (uninitialized constant JSONAPI::ItemProcessor
Did you mean?  SellProcessor):
  
app/controllers/items_controller.rb:9:in `block in create'
app/controllers/items_controller.rb:8:in `times'
app/controllers/items_controller.rb:8:in `create'
Started POST "/products/1/items" for ::1 at 2020-01-26 20:51:12 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:7:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:51:12.777756', '2020-01-26 23:51:12.777756', 1)[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:51:12.781160', '2020-01-26 23:51:12.781160', 1)[0m
  ↳ app/processors/item_processor.rb:8:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x00005572bf2bb308>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (14.8ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 39ms (Views: 1.6ms | ActiveRecord: 18.4ms | Allocations: 18350)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:52:25 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:52:25.241220', '2020-01-26 23:52:25.241220', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 202 Accepted in 28ms (Views: 0.9ms | ActiveRecord: 10.0ms | Allocations: 13910)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:53:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:53:26.259399', '2020-01-26 23:53:26.259399', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 202 Accepted in 23ms (Views: 0.5ms | ActiveRecord: 10.0ms | Allocations: 13965)


Started GET "/items/7/relationships/product" for ::1 at 2020-01-26 20:53:57 -0300
  
ActionController::RoutingError (No route matches [GET] "/items/7/relationships/product"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-26 20:54:47 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:54:47.131409', '2020-01-26 23:54:47.131409', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 2)
Completed 202 Accepted in 25ms (Views: 1.3ms | ActiveRecord: 7.0ms | Allocations: 13917)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:54:53 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:54:53.900348', '2020-01-26 23:54:53.900348', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 22ms (Views: 0.4ms | ActiveRecord: 11.9ms | Allocations: 4673)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:57:30 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (0.8ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:57:30.924759', '2020-01-26 23:57:30.924759', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 25ms (Views: 1.1ms | ActiveRecord: 9.6ms | Allocations: 13963)


Started POST "/products/1/items" for ::1 at 2020-01-26 20:58:49 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mItem Create (1.0ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-26 23:58:49.176532', '2020-01-26 23:58:49.176532', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 202 Accepted in 37ms (Views: 0.6ms | ActiveRecord: 14.5ms | Allocations: 13958)


Started POST "/products/1/items7" for ::1 at 2020-01-26 21:50:20 -0300
  
ActionController::RoutingError (No route matches [POST] "/products/1/items7"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items7" for ::1 at 2020-01-26 21:50:25 -0300
  
ActionController::RoutingError (No route matches [POST] "/products/1/items7"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-26 21:50:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:4:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 00:50:27.043479', '2020-01-27 00:50:27.043479', 1)[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: Unknown source type :completed /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:267:in `top_level_source_key'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `block in serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `map'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:114:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 25ms (Views: 1.8ms | ActiveRecord: 8.7ms | Allocations: 13745)


Started POST "/products/1/items" for ::1 at 2020-01-26 21:51:42 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (1.2ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 00:51:42.126070', '2020-01-27 00:51:42.126070', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (7.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 00:51:42.130513', '2020-01-27 00:51:42.130513', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x00007f23f8018560>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (5.7ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 47ms (Views: 1.8ms | ActiveRecord: 17.6ms | Allocations: 18336)


Started POST "/products/1/items" for ::1 at 2020-01-26 21:52:40 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (1.2ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 00:52:40.349176', '2020-01-27 00:52:40.349176', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 00:52:40.353939', '2020-01-27 00:52:40.353939', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: Unknown source type :completed /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:267:in `top_level_source_key'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `block in serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `map'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:114:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 28ms (Views: 0.8ms | ActiveRecord: 8.8ms | Allocations: 16622)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-27 11:52:52 -0300
  [1m[35m (43.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x000055ed34bdf4f8>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:9:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 29ms (Views: 1.2ms | ActiveRecord: 5.2ms | Allocations: 9806)


Started POST "/products/1/items" for ::1 at 2020-01-27 11:54:04 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:9:in `block in create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 14:54:04.176275', '2020-01-27 14:54:04.176275', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 14:54:04.179503', '2020-01-27 14:54:04.179503', 1)[0m
  ↳ app/processors/item_processor.rb:10:in `block in create_resource'
Internal Server Error: undefined local variable or method `resource' for #<ItemProcessor:0x00007ff49c2dd190>
Did you mean?  resource_klass /home/nacho/tpi_rails/app/processors/item_processor.rb:14:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.7ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 28ms (Views: 0.7ms | ActiveRecord: 9.1ms | Allocations: 19044)


Started POST "/products/1/items" for ::1 at 2020-01-27 11:54:28 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:8:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 14:54:28.476386', '2020-01-27 14:54:28.476386', 1)[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 6.2ms | Allocations: 14101)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:05:17 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2366)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/item_processor.rb:16: else without rescue is useless
        else
        ^~~~
/home/nacho/tpi_rails/app/processors/item_processor.rb:22: syntax error, unexpected end-of-input, expecting end):
  
app/processors/item_processor.rb:16: else without rescue is useless
app/processors/item_processor.rb:22: syntax error, unexpected end-of-input, expecting end
app/processors/item_processor.rb:16: else without rescue is useless
app/processors/item_processor.rb:22: syntax error, unexpected end-of-input, expecting end
app/processors/item_processor.rb:16: else without rescue is useless
app/processors/item_processor.rb:22: syntax error, unexpected end-of-input, expecting end
Started POST "/products/1/items" for ::1 at 2020-01-27 12:05:38 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:05:38.458073', '2020-01-27 15:05:38.458073', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:05:38.470420', '2020-01-27 15:05:38.470420', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 40ms (Views: 0.5ms | ActiveRecord: 13.8ms | Allocations: 16013)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:05:46 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (0.7ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:05:46.572964', '2020-01-27 15:05:46.572964', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (0.7ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:05:46.580276', '2020-01-27 15:05:46.580276', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 38ms (Views: 0.8ms | ActiveRecord: 10.3ms | Allocations: 6656)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:11:32 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:11:32.924338', '2020-01-27 15:11:32.924338', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (4.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-27 15:11:32.927682', '2020-01-27 15:11:32.927682', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 9.0ms | Allocations: 16486)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:11:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 613)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:14:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: Unknown source type #<JSONAPI::Error:0x000055ed35251318 @title=nil, @detail=nil, @id=nil, @href=nil, @code=nil, @source=nil, @links=nil, @status="", @meta=nil> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:267:in `top_level_source_key'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `block in serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `map'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource_serializer.rb:47:in `serialize_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:114:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 2841)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:15:49 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: uninitialized constant JSONAPI::ErrorOperationResult
Did you mean?  JSONAPI::ErrorsOperationResult /home/nacho/tpi_rails/app/processors/item_processor.rb:18:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 5498)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:16:12 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: no implicit conversion of JSONAPI::Error into Array /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `concat'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:28:in `block in all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_results.rb:26:in `all_errors'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:107:in `results_to_hash'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:12:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 3127)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:18:04 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Completed 0  in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1991)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:24:42 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `meta' for JSONAPI::Exceptions::InvalidFieldValue:Class /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 3434)


Started POST "/products/1/items" for ::1 at 2020-01-27 12:28:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"0"}, "product_id"=>"1", "item"=>{}}
Completed 0  in 17ms (Views: 0.6ms | ActiveRecord: 409.7ms | Allocations: 1989)


Started GET "/sells" for ::1 at 2020-01-27 15:35:48 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
Completed 0  in 13ms (Views: 0.7ms | ActiveRecord: 142.7ms | Allocations: 1963)


Started POST "/products/1/items" for ::1 at 2020-01-27 15:42:31 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/controllers/items_controller.rb:10:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1741)


Started POST "/sells" for ::1 at 2020-01-27 15:44:34 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 444)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sessions" for ::1 at 2020-01-27 15:46:23 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.8ms | Allocations: 6343)


Started POST "/sessions" for ::1 at 2020-01-27 15:46:24 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms | Allocations: 916)


Started POST "/sells" for ::1 at 2020-01-27 15:47:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 438)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sells" for ::1 at 2020-01-27 15:48:40 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 1.1ms | Allocations: 453)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sells" for ::1 at 2020-01-27 15:56:50 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 453)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sells" for ::1 at 2020-01-27 16:00:57 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 21ms (Views: 0.2ms | ActiveRecord: 13.4ms | Allocations: 6452)


Started POST "/sells" for ::1 at 2020-01-27 16:01:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1477)


Started POST "/sessions" for ::1 at 2020-01-27 16:05:53 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms | Allocations: 1080)


Started POST "/sells" for ::1 at 2020-01-27 16:06:27 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1477)


Started POST "/sells" for ::1 at 2020-01-27 16:06:59 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 406ms (Views: 3.5ms | ActiveRecord: 0.6ms | Allocations: 4998)


Started POST "/sells" for ::1 at 2020-01-27 20:46:41 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 2403)


Started POST "/sells" for ::1 at 2020-01-27 22:08:22 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1169)


Started POST "/sells" for ::1 at 2020-01-27 22:08:41 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_autonomo"=>{"data"=>{"type"=>"clientes_autonomos", "id"=>1}}}}, "sell"=>{}}
Completed 400 Bad Request in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1170)


Started POST "/sells" for ::1 at 2020-01-27 22:11:44 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2405)


Started POST "/sessions" for ::1 at 2020-01-27 22:11:48 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.5ms | Allocations: 912)


Started POST "/sells" for ::1 at 2020-01-27 22:12:25 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 2781)


Started POST "/sells" for ::1 at 2020-01-27 22:12:40 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 2.3ms | ActiveRecord: 0.7ms | Allocations: 2782)


Started POST "/sells" for ::1 at 2020-01-27 22:13:45 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 13ms (Views: 0.6ms | ActiveRecord: 6.9ms | Allocations: 7836)


Started POST "/sells" for ::1 at 2020-01-27 22:23:12 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 24ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 7700)


Started POST "/sells" for ::1 at 2020-01-27 22:34:27 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 19161)


Started POST "/sells" for ::1 at 2020-01-27 22:34:49 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 29ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 19032)


Started POST "/sells" for ::1 at 2020-01-27 22:47:57 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente_dependiente_id"=>1}}, "sell"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2099)


Started POST "/sells" for ::1 at 2020-01-27 22:48:19 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente-dependiente"=>1}}, "sell"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1149)


Started POST "/sells" for ::1 at 2020-01-27 22:49:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente-dependiente"=>1, "tipo_cliente"=>"dependiente"}}, "sell"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1149)


Started POST "/sells" for ::1 at 2020-01-27 22:49:31 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente_dependiente_id"=>1, "tipo_cliente"=>"dependiente"}}, "sell"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1149)


Started POST "/sells" for ::1 at 2020-01-27 22:50:30 -0300
  
NameError (JSONAPI: Could not find resource 'cliente_dependientes'. (Class ClienteDependienteResource not found)):
  
config/routes.rb:17:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/sells" for ::1 at 2020-01-27 22:52:47 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente_dependiente_id"=>1, "tipo_cliente"=>"dependiente"}}, "sell"=>{}}
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2107)


Started POST "/sessions" for ::1 at 2020-01-27 22:53:13 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user5", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user5' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 1.7ms | Allocations: 4922)


Started POST "/sells" for ::1 at 2020-01-27 22:53:50 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente_dependiente_id"=>1, "tipo_cliente"=>"dependiente"}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1578)


Started POST "/sells" for ::1 at 2020-01-27 22:54:31 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1456)


Started POST "/sells" for ::1 at 2020-01-27 22:54:41 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "sells", "attributes":{}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "sells", "attributes":{}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "sells", "attributes":{}}
Started POST "/sells" for ::1 at 2020-01-27 22:55:22 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: uninitialized constant SellProcessor::Datetime
Did you mean?  DateTime /home/nacho/tpi_rails/app/processors/sell_processor.rb:16:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 15ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 6820)


Started POST "/sells" for ::1 at 2020-01-27 22:55:48 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 20ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 18526)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sells" for ::1 at 2020-01-28 11:02:33 -0300
  [1m[35m (55.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
Completed 400 Bad Request in 12ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 2221)


Started POST "/sessions" for ::1 at 2020-01-28 11:02:54 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 2.9ms | Allocations: 6033)


Started POST "/sells" for ::1 at 2020-01-28 11:10:31 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1658)


Started POST "/sells" for ::1 at 2020-01-28 11:16:30 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1525)


Started POST "/sells" for ::1 at 2020-01-28 11:17:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente-dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 7ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 1531)


Started POST "/sells" for ::1 at 2020-01-28 11:21:41 -0300
DEPRECATION WARNING: In SellResource you exposed a `has_one` relationship  using the `belongs_to` class method. We think `has_one` is more appropriate. If you know what you're doing, and don't want to see this warning again, override the `belongs_to` class method on your resource. (called from <class:SellResource> at /home/nacho/tpi_rails/app/resources/sell_resource.rb:6)
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente-dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 8ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 6356)


Started POST "/sells" for ::1 at 2020-01-28 11:22:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente-dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 9ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 6434)


Started POST "/sells" for ::1 at 2020-01-28 11:22:51 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"cliente-dependiente"=>{"data"=>{"type"=>"cliente-dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1473)


Started POST "/sells" for ::1 at 2020-01-28 11:26:31 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"product1_id"=>1, "cantidad"=>2}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1460)


Started POST "/sells" for ::1 at 2020-01-28 11:35:40 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 15ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 4601)


Started POST "/sessions" for ::1 at 2020-01-28 11:35:58 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms | Allocations: 1081)


Started POST "/sells" for ::1 at 2020-01-28 11:36:26 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells"}, "sell"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 25ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 15345)


Started POST "/sells" for ::1 at 2020-01-28 11:37:48 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente-dependiente"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1453)


Started POST "/sells" for ::1 at 2020-01-28 11:38:03 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"cliente_dependiente_id"=>1}}, "sell"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 6ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1454)


Started POST "/sells" for ::1 at 2020-01-28 11:38:09 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3279)


Started POST "/sells" for ::1 at 2020-01-28 11:38:42 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"user"=>"1"}}, "sell"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1455)


Started POST "/sells" for ::1 at 2020-01-28 11:38:48 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"user_id"=>"1"}}, "sell"=>{}}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 11ms (Views: 0.8ms | ActiveRecord: 2.5ms | Allocations: 1453)


Started POST "/sells" for ::1 at 2020-01-28 11:41:17 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {}
Started POST "/sells" for ::1 at 2020-01-28 11:41:26 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {}}
Started POST "/sells" for ::1 at 2020-01-28 11:43:52 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":1}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":1}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":1}}}
Started POST "/sells" for ::1 at 2020-01-28 11:44:34 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}}}
Started POST "/sells" for ::1 at 2020-01-28 11:45:03 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 1471)


Started POST "/sells" for ::1 at 2020-01-28 11:45:42 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 18360)


Started POST "/sells" for ::1 at 2020-01-28 11:47:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}, "cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}, "sell"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 1501)


Started POST "/sells" for ::1 at 2020-01-28 11:47:09 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1506)


Started POST "/sells" for ::1 at 2020-01-28 11:48:00 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependiente", "id"=>"1"}}}, "sell"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 6ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1502)


Started POST "/sells" for ::1 at 2020-01-28 11:48:09 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}}, "cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1502)


Started POST "/sells" for ::1 at 2020-01-28 11:48:48 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}
Started POST "/sells" for ::1 at 2020-01-28 11:49:19 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente_dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}
Started POST "/sells" for ::1 at 2020-01-28 11:50:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 4ms (Views: 1.0ms | ActiveRecord: 0.8ms | Allocations: 1502)


Started POST "/sells" for ::1 at 2020-01-28 11:50:39 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "clientedependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1506)


Started POST "/sells" for ::1 at 2020-01-28 11:52:03 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1503)


Started POST "/sells" for ::1 at 2020-01-28 11:53:36 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente_dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 8ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 6420)


Started POST "/sells" for ::1 at 2020-01-28 11:55:18 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 44ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 20761)


Started POST "/sells" for ::1 at 2020-01-28 11:58:13 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}},"cliente-autonomo":{"data":{"type":"cliente_autonomos", "id":"1"}}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}},"cliente-autonomo":{"data":{"type":"cliente_autonomos", "id":"1"}}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}},"cliente-autonomo":{"data":{"type":"cliente_autonomos", "id":"1"}}}}
Started POST "/sells" for ::1 at 2020-01-28 11:59:20 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 1535)


Started POST "/sells" for ::1 at 2020-01-28 12:07:54 -0300
  
NameError (JSONAPI: Could not find resource 'cliente_autonomos'. (Class ClienteAutonomoResource not found)):
  
config/routes.rb:17:in `block in <main>'
config/routes.rb:1:in `<main>'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}},"cliente-autonomo":{"data":{"type":"cliente_autonomos", "id":"1"}}}}
Started POST "/sells" for ::1 at 2020-01-28 12:08:52 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActionController::RoutingError (No route matches [POST] "/sells"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}},"cliente-autonomo":{"data":{"type":"cliente_autonomos", "id":"1"}}}}
Started POST "/sells" for ::1 at 2020-01-28 12:09:51 -0300
  
ActionController::RoutingError (No route matches [POST] "/sells"):
  
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sells" for ::1 at 2020-01-28 12:12:15 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 13ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 4136)


Started POST "/sessions" for ::1 at 2020-01-28 12:12:46 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 1.3ms | Allocations: 7951)


Started POST "/sells" for ::1 at 2020-01-28 12:13:17 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('-4712-01-01 00:00:00', '2020-01-28 15:13:17.488563', '2020-01-28 15:13:17.488563', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: Mysql2::Error: Incorrect datetime value: '-4712-01-01 00:00:00' for column `tpi_ttps2019_cazorla_development`.`sells`.`date` at row 1 /home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:202:in `block (2 levels) in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:211:in `execute_and_free'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:135:in `exec_insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:166:in `insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:375:in `_insert_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:933:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/counter_cache.rb:163:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/locking/optimistic.rb:70:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/attribute_methods/dirty.rb:211:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:332:in `block in _create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_create_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:332:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:111:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:906:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:470:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:47:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/suppressor.rb:44:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:204:in `_save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:181:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:180:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:61:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:19:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 40ms (Views: 1.6ms | ActiveRecord: 4.1ms | Allocations: 27794)


Started POST "/sells" for ::1 at 2020-01-28 12:14:58 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-28 15:14:58', '2020-01-28 15:14:58.476465', '2020-01-28 15:14:58.476465', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 46ms (Views: 0.5ms | ActiveRecord: 7.8ms | Allocations: 30028)


Started POST "/sells" for ::1 at 2020-01-28 13:43:00 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 4065)


Started POST "/sessions" for ::1 at 2020-01-28 13:43:22 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.4ms | Allocations: 4696)


Started POST "/sells" for ::1 at 2020-01-28 13:44:00 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: no implicit conversion of SellResource into String /home/nacho/tpi_rails/app/processors/sell_processor.rb:19:in `+'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:19:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 14ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 8344)


Started POST "/sells" for ::1 at 2020-01-28 13:44:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (1.1ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-28 16:44:23', '2020-01-28 16:44:23.465284', '2020-01-28 16:44:23.465284', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 40ms (Views: 0.7ms | ActiveRecord: 10.1ms | Allocations: 29971)


Started POST "/sells" for ::1 at 2020-01-28 13:44:56 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-28 16:44:56', '2020-01-28 16:44:56.544462', '2020-01-28 16:44:56.544462', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 38ms (Views: 0.5ms | ActiveRecord: 8.6ms | Allocations: 29910)


Started POST "/sells" for ::1 at 2020-01-28 13:45:26 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
Internal Server Error: undefined method `id' for "#<SellResource:0x0000557d526f71b8>":String /home/nacho/tpi_rails/app/processors/sell_processor.rb:19:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 29ms (Views: 0.6ms | ActiveRecord: 3.0ms | Allocations: 18231)


Started POST "/sells" for ::1 at 2020-01-28 13:46:13 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.9ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-28 16:46:13', '2020-01-28 16:46:13.868153', '2020-01-28 16:46:13.868153', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 48ms (Views: 0.5ms | ActiveRecord: 9.7ms | Allocations: 29983)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sells" for ::1 at 2020-01-28 21:00:37 -0300
  [1m[35m (56.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 16ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 5240)


Started POST "/sessions" for ::1 at 2020-01-28 21:01:47 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 3.2ms | Allocations: 6870)


Started POST "/sells" for ::1 at 2020-01-28 21:02:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (1.2ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:02:23', '2020-01-29 00:02:23.113270', '2020-01-29 00:02:23.113270', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 26030)


Started POST "/sells" for ::1 at 2020-01-28 21:04:28 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:04:28', '2020-01-29 00:04:28.472007', '2020-01-29 00:04:28.472007', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: undefined method `each' for nil:NilClass /home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 47ms (Views: 0.6ms | ActiveRecord: 6.7ms | Allocations: 31629)


Started POST "/sells" for ::1 at 2020-01-28 21:05:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:05:14', '2020-01-29 00:05:14.649263', '2020-01-29 00:05:14.649263', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 36ms (Views: 0.5ms | ActiveRecord: 7.7ms | Allocations: 30140)


Started POST "/sells" for ::1 at 2020-01-28 21:06:05 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:06:05', '2020-01-29 00:06:05.588631', '2020-01-29 00:06:05.588631', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 44ms (Views: 0.5ms | ActiveRecord: 9.2ms | Allocations: 30062)


Started POST "/sells" for ::1 at 2020-01-28 21:06:45 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:06:45', '2020-01-29 00:06:45.689403', '2020-01-29 00:06:45.689403', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of nil into String /home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `+'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 40ms (Views: 0.6ms | ActiveRecord: 8.4ms | Allocations: 31270)


Started POST "/sells" for ::1 at 2020-01-28 21:07:46 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:07:46', '2020-01-29 00:07:46.379928', '2020-01-29 00:07:46.379928', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of ActionController::Parameters into String /home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `+'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (4.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 45ms (Views: 0.6ms | ActiveRecord: 9.0ms | Allocations: 31076)


Started POST "/sells" for ::1 at 2020-01-28 21:08:13 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:08:13', '2020-01-29 00:08:13.189786', '2020-01-29 00:08:13.189786', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 45ms (Views: 0.5ms | ActiveRecord: 8.7ms | Allocations: 29989)


Started POST "/sells" for ::1 at 2020-01-28 21:09:02 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:09:02', '2020-01-29 00:09:02.616473', '2020-01-29 00:09:02.616473', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 35ms (Views: 0.5ms | ActiveRecord: 7.6ms | Allocations: 29969)


Started POST "/sells" for ::1 at 2020-01-28 21:11:39 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:11:39', '2020-01-29 00:11:39.347917', '2020-01-29 00:11:39.347917', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:22:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:345:in `block in each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 67ms (Views: 2.6ms | ActiveRecord: 7.6ms | Allocations: 31167)


Started POST "/sells" for ::1 at 2020-01-28 21:12:11 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:12:12', '2020-01-29 00:12:12.054525', '2020-01-29 00:12:12.054525', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:22:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:345:in `block in each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 45ms (Views: 11.8ms | ActiveRecord: 7.0ms | Allocations: 31105)


Started POST "/sells" for ::1 at 2020-01-28 21:15:08 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:15:08', '2020-01-29 00:15:08.907338', '2020-01-29 00:15:08.907338', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 35ms (Views: 0.5ms | ActiveRecord: 6.5ms | Allocations: 29938)


Started POST "/sells" for ::1 at 2020-01-28 21:16:40 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:16:40', '2020-01-29 00:16:40.268226', '2020-01-29 00:16:40.268226', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no block given (yield) /home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:345:in `block in each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 36ms (Views: 0.9ms | ActiveRecord: 7.2ms | Allocations: 31122)


Started POST "/sells" for ::1 at 2020-01-28 21:17:07 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:17:07', '2020-01-29 00:17:07.877552', '2020-01-29 00:17:07.877552', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 35ms (Views: 0.5ms | ActiveRecord: 7.1ms | Allocations: 30000)


Started POST "/sells" for ::1 at 2020-01-28 21:17:34 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:17:34', '2020-01-29 00:17:34.969470', '2020-01-29 00:17:34.969470', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:22:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:345:in `block in each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:344:in `each_pair'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:21:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 43ms (Views: 0.7ms | ActiveRecord: 9.9ms | Allocations: 31135)


Started POST "/sells" for ::1 at 2020-01-28 21:18:55 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 00:18:55', '2020-01-29 00:18:55.451535', '2020-01-29 00:18:55.451535', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 34ms (Views: 0.6ms | ActiveRecord: 7.1ms | Allocations: 29942)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sessions" for ::1 at 2020-01-29 11:34:37 -0300
  [1m[35m (51.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 33ms (ActiveRecord: 4.1ms | Allocations: 6224)


Started POST "/sells" for ::1 at 2020-01-29 11:35:27 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (1.0ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:35:27', '2020-01-29 14:35:27.759745', '2020-01-29 14:35:27.759745', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 53ms (Views: 0.6ms | ActiveRecord: 16.2ms | Allocations: 25884)


Started POST "/sells" for ::1 at 2020-01-29 11:36:09 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:36:09', '2020-01-29 14:36:09.310125', '2020-01-29 14:36:09.310125', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 47ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 30003)


Started POST "/sells" for ::1 at 2020-01-29 11:42:16 -0300
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.5ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:42:16', '2020-01-29 14:42:16.324114', '2020-01-29 14:42:16.324114', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 26ms (Views: 0.4ms | ActiveRecord: 8.5ms | Allocations: 7983)


Started POST "/sells" for ::1 at 2020-01-29 11:42:27 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 7640)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:88: syntax error, unexpected end-of-input, expecting end):
  
app/processors/sell_processor.rb:88: syntax error, unexpected end-of-input, expecting end
app/processors/sell_processor.rb:88: syntax error, unexpected end-of-input, expecting end
app/processors/sell_processor.rb:88: syntax error, unexpected end-of-input, expecting end
Started POST "/sells" for ::1 at 2020-01-29 11:43:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:43:01', '2020-01-29 14:43:01.871322', '2020-01-29 14:43:01.871322', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 39ms (Views: 0.7ms | ActiveRecord: 8.5ms | Allocations: 32159)


Started POST "/sells" for ::1 at 2020-01-29 11:43:21 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:43:21', '2020-01-29 14:43:21.293430', '2020-01-29 14:43:21.293430', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (4.0ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 48ms (Views: 0.7ms | ActiveRecord: 8.8ms | Allocations: 31178)


Started POST "/sells" for ::1 at 2020-01-29 11:43:49 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:43:49', '2020-01-29 14:43:49.136554', '2020-01-29 14:43:49.136554', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (6.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 47ms (Views: 0.6ms | ActiveRecord: 10.8ms | Allocations: 31131)


Started POST "/sells" for ::1 at 2020-01-29 11:44:29 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:44:29', '2020-01-29 14:44:29.200098', '2020-01-29 14:44:29.200098', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 46ms (Views: 0.6ms | ActiveRecord: 6.7ms | Allocations: 31214)


Started POST "/sells" for ::1 at 2020-01-29 11:45:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.6ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:45:14', '2020-01-29 14:45:14.991935', '2020-01-29 14:45:14.991935', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:25:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:25:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 43ms (Views: 1.8ms | ActiveRecord: 8.1ms | Allocations: 31139)


Started POST "/sells" for ::1 at 2020-01-29 11:46:41 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:46:42', '2020-01-29 14:46:42.056585', '2020-01-29 14:46:42.056585', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = NULL LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:24:in `block in create_resource'
Internal Server Error: Couldn't find Product with 'id'={:id=>1} /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:339:in `raise_record_not_found_exception!'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:452:in `find_one'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:434:in `find_with_ids'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/querying.rb:21:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/core.rb:167:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (7.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 51ms (Views: 1.0ms | ActiveRecord: 17.9ms | Allocations: 33491)


Started POST "/sells" for ::1 at 2020-01-29 11:47:16 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:47:16', '2020-01-29 14:47:16.976056', '2020-01-29 14:47:16.976056', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = NULL LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:24:in `block in create_resource'
Internal Server Error: Couldn't find Product with 'id'={:id=>1} /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:339:in `raise_record_not_found_exception!'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:452:in `find_one'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:434:in `find_with_ids'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/querying.rb:21:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/core.rb:167:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 40ms (Views: 0.7ms | ActiveRecord: 8.6ms | Allocations: 33428)


Started POST "/sells" for ::1 at 2020-01-29 11:48:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:48:01', '2020-01-29 14:48:01.960299', '2020-01-29 14:48:01.960299', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:24:in `block in create_resource'
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 51ms (Views: 0.5ms | ActiveRecord: 9.7ms | Allocations: 35523)


Started POST "/sells" for ::1 at 2020-01-29 11:49:12 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 14:49:12', '2020-01-29 14:49:12.771945', '2020-01-29 14:49:12.771945', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:24:in `block in create_resource'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:26:in `block in create_resource'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 43ms (Views: 0.5ms | ActiveRecord: 8.5ms | Allocations: 36652)


Started POST "/sells" for ::1 at 2020-01-29 12:03:12 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:03:12', '2020-01-29 15:03:12.735098', '2020-01-29 15:03:12.735098', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: Couldn't find Product without an ID /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/querying.rb:21:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/core.rb:159:in `find'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:37:in `evaluate_details_creation'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 36ms (Views: 1.0ms | ActiveRecord: 4.3ms | Allocations: 30854)


Started POST "/sells" for ::1 at 2020-01-29 12:03:42 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:03:42', '2020-01-29 15:03:43.009045', '2020-01-29 15:03:43.009045', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:37:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:39:in `evaluate_details_creation'
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 116ms (Views: 0.6ms | ActiveRecord: 12.4ms | Allocations: 43099)


Started POST "/sells" for ::1 at 2020-01-29 12:04:17 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:04:17', '2020-01-29 15:04:17.562887', '2020-01-29 15:04:17.562887', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:37:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:39:in `evaluate_details_creation'
Internal Server Error: undefined method `create' for DetailController:Class /home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (107.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 194ms (Views: 2.8ms | ActiveRecord: 114.6ms | Allocations: 39278)


Started POST "/sells" for ::1 at 2020-01-29 12:06:58 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.7ms | ActiveRecord: 1.0ms | Allocations: 4146)


Started POST "/sessions" for ::1 at 2020-01-29 12:07:17 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 1.3ms | Allocations: 4923)


Started POST "/sells" for ::1 at 2020-01-29 12:07:45 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:07:45', '2020-01-29 15:07:46.003310', '2020-01-29 15:07:46.003310', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:37:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:39:in `evaluate_details_creation'
Internal Server Error: undefined method `redirect_to' for #<SellProcessor:0x00007fe32c469d28> /home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.7ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 65ms (Views: 0.7ms | ActiveRecord: 10.4ms | Allocations: 34469)


Started POST "/sells" for ::1 at 2020-01-29 12:15:06 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:15:07', '2020-01-29 15:15:07.081100', '2020-01-29 15:15:07.081100', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:37:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:39:in `evaluate_details_creation'
Internal Server Error: unknown attribute 'cantidad' for Detail. /home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_assignment.rb:53:in `_assign_attribute'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_assignment.rb:44:in `block in _assign_attributes'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_assignment.rb:43:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_assignment.rb:43:in `_assign_attributes'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/attribute_assignment.rb:22:in `_assign_attributes'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_assignment.rb:35:in `assign_attributes'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/core.rb:326:in `initialize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/inheritance.rb:70:in `new'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/inheritance.rb:70:in `new'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 57ms (Views: 0.7ms | ActiveRecord: 7.0ms | Allocations: 40748)


Started POST "/sells" for ::1 at 2020-01-29 12:16:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:16:14', '2020-01-29 15:16:14.912226', '2020-01-29 15:16:14.912226', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:38:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:40:in `evaluate_details_creation'
Internal Server Error: undefined method `create' for DetailController:Class /home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:23:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (4.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 57ms (Views: 0.6ms | ActiveRecord: 12.2ms | Allocations: 39258)


Started POST "/sells" for ::1 at 2020-01-29 12:20:43 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:20:43', '2020-01-29 15:20:44.009627', '2020-01-29 15:20:44.009627', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:37:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:39:in `evaluate_details_creation'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 81ms (Views: 0.8ms | ActiveRecord: 12.3ms | Allocations: 40289)


Started POST "/sells" for ::1 at 2020-01-29 12:22:05 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.2ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:22:05', '2020-01-29 15:22:05.766179', '2020-01-29 15:22:05.766179', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:38:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:40:in `evaluate_details_creation'
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 60ms (Views: 0.6ms | ActiveRecord: 12.3ms | Allocations: 40233)


Started POST "/sells" for ::1 at 2020-01-29 12:53:52 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 4192)


Started POST "/sessions" for ::1 at 2020-01-29 12:54:09 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 0.5ms | Allocations: 4728)


Started POST "/sells" for ::1 at 2020-01-29 12:54:40 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.8ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:54:40', '2020-01-29 15:54:40.476113', '2020-01-29 15:54:40.476113', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
Internal Server Error: undefined local variable or method `each' for #<SellProcessor:0x0000564bac4d08c0> /home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 45ms (Views: 0.9ms | ActiveRecord: 5.3ms | Allocations: 27879)


Started POST "/sells" for ::1 at 2020-01-29 12:55:28 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.9ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:55:28', '2020-01-29 15:55:28.346252', '2020-01-29 15:55:28.346252', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:51:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:53:in `evaluate_details_creation'
Internal Server Error: uninitialized constant SellProcessor::Items /home/nacho/tpi_rails/app/processors/sell_processor.rb:32:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 48ms (Views: 0.6ms | ActiveRecord: 10.1ms | Allocations: 39566)


Started POST "/sells" for ::1 at 2020-01-29 12:56:47 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:56:47', '2020-01-29 15:56:47.143831', '2020-01-29 15:56:47.143831', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:51:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:53:in `evaluate_details_creation'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `[]=' for nil:NilClass /home/nacho/tpi_rails/app/processors/sell_processor.rb:34:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `times'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 51ms (Views: 1.0ms | ActiveRecord: 11.5ms | Allocations: 42264)


Started POST "/sells" for ::1 at 2020-01-29 12:57:46 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:57:46', '2020-01-29 15:57:46.798695', '2020-01-29 15:57:46.798695', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `save' for #<Class:0x00007fe32c396d38> /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 84ms (Views: 0.6ms | ActiveRecord: 12.4ms | Allocations: 47769)


Started POST "/sells" for ::1 at 2020-01-29 12:58:30 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:58:30', '2020-01-29 15:58:30.909848', '2020-01-29 15:58:30.909848', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `save' for #<Class:0x00007fe32c28b380> /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (8.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 84ms (Views: 3.5ms | ActiveRecord: 18.2ms | Allocations: 47714)


Started POST "/sells" for ::1 at 2020-01-29 12:59:38 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.2ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 15:59:38', '2020-01-29 15:59:38.183483', '2020-01-29 15:59:38.183483', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:51:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:53:in `evaluate_details_creation'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<Item:0x00007fe32c0f9918> /home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_methods.rb:431:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:34:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `times'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 52ms (Views: 0.6ms | ActiveRecord: 10.9ms | Allocations: 43385)


Started POST "/sells" for ::1 at 2020-01-29 13:06:40 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.5ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (2.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:06:40', '2020-01-29 16:06:40.830309', '2020-01-29 16:06:40.830309', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:51:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:53:in `evaluate_details_creation'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<Item:0x00007fe32c3179e8> /home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/attribute_methods.rb:431:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:34:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `times'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:33:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (4.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 43ms (Views: 1.1ms | ActiveRecord: 9.6ms | Allocations: 12812)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSellToItem (20200129160827)
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE `items` ADD `sell_id` bigint NOT NULL[0m
  [1m[35m (26.4ms)[0m  [1m[35mCREATE  INDEX `index_items_on_sell_id`  ON `items` (`sell_id`) [0m
  [1m[35m (44.4ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9445c300e9`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
Started POST "/sells" for ::1 at 2020-01-29 13:10:52 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.1) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/sells" for ::1 at 2020-01-29 13:11:30 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (1.2ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:11:30', '2020-01-29 16:11:30.902218', '2020-01-29 16:11:30.902218', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:51:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:53:in `evaluate_details_creation'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `save' for #<Class:0x0000564bab3441b0> /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:42:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:42:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 99ms (Views: 0.9ms | ActiveRecord: 21.0ms | Allocations: 47517)


Started POST "/sells" for ::1 at 2020-01-29 13:12:26 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.4ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (0.8ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:12:26', '2020-01-29 16:12:26.897268', '2020-01-29 16:12:26.897268', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `save' for #<Class:0x00007fe32c2db380> /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (4.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 101ms (Views: 1.7ms | ActiveRecord: 14.3ms | Allocations: 48326)


Started POST "/sells" for ::1 at 2020-01-29 13:12:56 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (1.0ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:12:57', '2020-01-29 16:12:57.097745', '2020-01-29 16:12:57.097745', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
Internal Server Error: undefined method `save' for #<Class:0x0000564baca25b68> /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:43:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:24:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 57ms (Views: 0.7ms | ActiveRecord: 12.3ms | Allocations: 48348)


Started POST "/sells" for ::1 at 2020-01-29 13:14:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (0.3ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (0.3ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (315.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:14:24', '2020-01-29 16:14:24.112066', '2020-01-29 16:14:24.112066', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 50 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (1.0ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (4, '2020-01-29 16:14:24.485305', '2020-01-29 16:14:24.485305', 50, 1)[0m
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 420ms (Views: 0.6ms | ActiveRecord: 334.6ms | Allocations: 49198)


Started POST "/sells" for ::1 at 2020-01-29 13:14:48 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteDependiente Load (1.4ms)[0m  [1m[34mSELECT `cliente_dependientes`.* FROM `cliente_dependientes` WHERE `cliente_dependientes`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mClienteAutonomo Load (1.0ms)[0m  [1m[34mSELECT `cliente_autonomos`.* FROM `cliente_autonomos` WHERE `cliente_autonomos`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mSell Create (1.0ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_autonomo_id`, `cliente_dependiente_id`) VALUES ('2020-01-29 16:14:48', '2020-01-29 16:14:48.212777', '2020-01-29 16:14:48.212777', 1, 1, 1)[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[36mItem Load (0.7ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 51 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.5ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (4, '2020-01-29 16:14:48.224488', '2020-01-29 16:14:48.224488', 51, 1)[0m
  ↳ app/processors/sell_processor.rb:44:in `block (2 levels) in create_resource'
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 37ms (Views: 0.4ms | ActiveRecord: 9.8ms | Allocations: 12688)


Started POST "/products/1/items" for ::1 at 2020-01-29 14:34:59 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mItem Create (9.6ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-29 17:35:00.101941', '2020-01-29 17:35:00.101941', 1)[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: Mysql2::Error: Field 'sell_id' doesn't have a default value /home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:202:in `block (2 levels) in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:211:in `execute_and_free'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:135:in `exec_insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:166:in `insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `insert'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:375:in `_insert_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:933:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/counter_cache.rb:163:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/locking/optimistic.rb:70:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/attribute_methods/dirty.rb:211:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:332:in `block in _create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_create_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:332:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:111:in `_create_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:906:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:470:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:47:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/suppressor.rb:44:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:204:in `_save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:181:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:180:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:61:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:12:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:10:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:10:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 24ms (Views: 1.1ms | ActiveRecord: 10.4ms | Allocations: 16930)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSellToItem (20200129160827)
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE `items` ADD `sell_id` bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
Started POST "/products/1/items" for ::1 at 2020-01-29 14:37:58 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.1) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products/1/items" for ::1 at 2020-01-29 14:39:27 -0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.1) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('7168959988392826365', 0)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddSellToItem (20200129160827)
  [1m[35m (6.4ms)[0m  [1m[35mALTER TABLE `items` ADD `sell_id` bigint[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE  INDEX `index_items_on_sell_id`  ON `items` (`sell_id`) [0m
  [1m[35m (52.0ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9445c300e9`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20200129160827')[0m
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('7168959988392826365')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/products/1/items" for ::1 at 2020-01-29 14:39:39 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:11:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 15ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 14760)


Started POST "/products/1/items" for ::1 at 2020-01-29 14:44:19 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007fe32c322f28> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 11ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 10031)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:51:25 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007fe32c2ac760> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 9ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 8213)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:52:16 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 9781)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:52:32 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 422 Unprocessable Entity in 8ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 2116)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:52:42 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007fe32c307f48> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 15ms (Views: 0.7ms | ActiveRecord: 1.7ms | Allocations: 9984)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:54:04 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007fe32c262638> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 21ms (Views: 1.5ms | ActiveRecord: 1.5ms | Allocations: 9941)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:54:27 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 23ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 14895)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/products/1/items" for ::1 at 2020-01-29 18:55:53 -0300
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x0000557c26867598> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 19ms (Views: 0.7ms | ActiveRecord: 1.7ms | Allocations: 10365)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:57:48 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 9930)


Started POST "/products/1/items" for ::1 at 2020-01-29 18:59:07 -0300
  
SyntaxError (/home/nacho/tpi_rails/app/controllers/items_controller.rb:11: syntax error, unexpected tIDENTIFIER, expecting '}'
            cantidad: params[:meta][:cantidad].to...
            ^~~~~~~~
/home/nacho/tpi_rails/app/controllers/items_controller.rb:12: syntax error, unexpected '}', expecting end
        }
        ^):
  
app/controllers/items_controller.rb:11: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/items_controller.rb:12: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:11: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/items_controller.rb:12: syntax error, unexpected '}', expecting end
app/controllers/items_controller.rb:11: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/items_controller.rb:12: syntax error, unexpected '}', expecting end
Started POST "/products/1/items" for ::1 at 2020-01-29 18:59:33 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 9912)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:01:01 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007f60ec1d4558> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 11ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 9983)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (116.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_development`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (109.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `tpi_ttps2019_cazorla_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE `tpi_ttps2019_cazorla_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (76.8ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (25.7ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL, `sold_price` decimal(10), `sell_id` bigint,  INDEX `index_items_on_product_id`  (`product_id`),  INDEX `index_items_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint NOT NULL, `total` decimal(10), `cliente_autonomo_id` bigint, `cliente_dependiente_id` bigint, `tipo_cliente` varchar(255),  INDEX `index_sells_on_cliente_autonomo_id`  (`cliente_autonomo_id`),  INDEX `index_sells_on_cliente_dependiente_id`  (`cliente_dependiente_id`),  INDEX `index_sells_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (28.6ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (38.5ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (37.9ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (45.1ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (51.2ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9445c300e9`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (66.7ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_64dd579914`
FOREIGN KEY (`cliente_autonomo_id`)
  REFERENCES `cliente_autonomos` (`id`)
[0m
  [1m[35m (55.9ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_2012e06e6a`
FOREIGN KEY (`cliente_dependiente_id`)
  REFERENCES `cliente_dependientes` (`id`)
[0m
  [1m[35m (45.8ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200129160827)[0m
  [1m[35m (2.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713),
(20200123232521),
(20200124180914),
(20200124180959),
(20200125142045),
(20200125142104),
(20200125142157),
(20200125150539);

[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-29 22:02:28.438028', '2020-01-29 22:02:28.438028')[0m
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '00b8ce131ff153c1c4b3570c6d281ec67753e783', '2020-01-29 22:02:28.454347', '2020-01-29 22:02:28.454347')[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_autonomos` CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE `cliente_autonomos` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuit` varchar(255), `razon_social` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `tipo_cliente` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS `cliente_dependientes` CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE `cliente_dependientes` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `cuil` varchar(255), `nombre` varchar(255), `codigo_tipo_responsable` int, `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `details` CASCADE[0m
  [1m[35m (21.8ms)[0m  [1m[35mCREATE TABLE `details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `number_of_items` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `sell_id` bigint NOT NULL, `product_id` bigint NOT NULL,  INDEX `index_details_on_product_id`  (`product_id`),  INDEX `index_details_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `items` CASCADE[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE `items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `state` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `product_id` bigint NOT NULL, `sold_price` decimal(10), `sell_id` bigint,  INDEX `index_items_on_product_id`  (`product_id`),  INDEX `index_items_on_sell_id`  (`sell_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `products` CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `code` varchar(255), `description` varchar(255), `detail` text, `cost_per_unit` decimal(10), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `sells` CASCADE[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE `sells` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, `user_id` bigint NOT NULL, `total` decimal(10), `cliente_autonomo_id` bigint, `cliente_dependiente_id` bigint, `tipo_cliente` varchar(255),  INDEX `index_sells_on_cliente_autonomo_id`  (`cliente_autonomo_id`),  INDEX `index_sells_on_cliente_dependiente_id`  (`cliente_dependiente_id`),  INDEX `index_sells_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `telefono_numeros` CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE `telefono_numeros` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `numero` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `username` varchar(255), `password` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4[0m
  [1m[35m (68.8ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_77aa393cf6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (58.4ms)[0m  [1m[35mALTER TABLE `details` ADD CONSTRAINT `fk_rails_0c482e514f`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (162.3ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9a56345cfd`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
[0m
  [1m[35m (57.3ms)[0m  [1m[35mALTER TABLE `items` ADD CONSTRAINT `fk_rails_9445c300e9`
FOREIGN KEY (`sell_id`)
  REFERENCES `sells` (`id`)
[0m
  [1m[35m (71.5ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_64dd579914`
FOREIGN KEY (`cliente_autonomo_id`)
  REFERENCES `cliente_autonomos` (`id`)
[0m
  [1m[35m (62.7ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_2012e06e6a`
FOREIGN KEY (`cliente_dependiente_id`)
  REFERENCES `cliente_dependientes` (`id`)
[0m
  [1m[35m (57.4ms)[0m  [1m[35mALTER TABLE `sells` ADD CONSTRAINT `fk_rails_d7ef18de7f`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20200129160827)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20200114234851),
(20200114235222),
(20200114235625),
(20200121163300),
(20200123194640),
(20200123194938),
(20200123230816),
(20200123231619),
(20200123231713),
(20200123232521),
(20200124180914),
(20200124180959),
(20200125142045),
(20200125142104),
(20200125142157),
(20200125150539);

[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-01-29 22:02:29.281928', '2020-01-29 22:02:29.281928')[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE `ar_internal_metadata` SET `ar_internal_metadata`.`value` = 'test', `ar_internal_metadata`.`updated_at` = '2020-01-29 22:02:29.294637' WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '00b8ce131ff153c1c4b3570c6d281ec67753e783', '2020-01-29 22:02:29.303475', '2020-01-29 22:02:29.303475')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/products/1/items" for ::1 at 2020-01-29 19:02:39 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007f60ec22f160> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 11ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 3423)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:03:30 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 11840)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:07:25 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:08:59 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:09:19 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
Started POST "/products" for ::1 at 2020-01-29 19:09:45 -0300
Processing by ProductsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd234567", "description"=>"a description 2", "detail"=>"a detail 2", "cost-per-unit"=>199.99}}, "product"=>{}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.9ms | Allocations: 462)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:217:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:249:in `handle_unverified_request'
actionpack (6.0.1) lib/action_controller/metal/request_forgery_protection.rb:244:in `verify_authenticity_token'
activesupport (6.0.1) lib/active_support/callbacks.rb:429:in `block in make_lambda'
activesupport (6.0.1) lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.1) lib/active_support/callbacks.rb:202:in `block in halting'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `block in invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `each'
activesupport (6.0.1) lib/active_support/callbacks.rb:514:in `invoke_before'
activesupport (6.0.1) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.1) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.1) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/products" for ::1 at 2020-01-29 19:10:47 -0300
Processing by ProductsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd234567", "description"=>"a description 2", "detail"=>"a detail 2", "cost-per-unit"=>199.99}}, "product"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`code` = BINARY 'asd234567' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`code`, `description`, `detail`, `cost_per_unit`, `created_at`, `updated_at`) VALUES ('asd234567', 'a description 2', 'a detail 2', 199, '2020-01-29 22:10:47.478659', '2020-01-29 22:10:47.478659')[0m
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 17ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 13259)


Started POST "/products" for ::1 at 2020-01-29 19:10:58 -0300
Processing by ProductsController#create as JSON
  Parameters: {"data"=>{"type"=>"products", "attributes"=>{"code"=>"asd234567", "description"=>"a description 2", "detail"=>"a detail 2", "cost-per-unit"=>199.99}}, "product"=>{}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`code` = BINARY 'asd234567' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 7223)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:11:08 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:11:50 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}},"sell":{"data":{"type":"sells", "id":nil}}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:13:33 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>"1"}}, "sell"=>{"data"=>{"type"=>"sells", "id"=>"nil"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1414)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:13:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>"1"}}, "sell"=>{"data"=>{"type"=>"sells", "id"=>"-1"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = -1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 21ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 13690)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:14:26 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":1}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":1}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":1}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:14:46 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:15:11 -0300
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}}, "meta": {"cantidad": "2"}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}}, "meta": {"cantidad": "2"}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{"data": {"type": "items", "relationships": {"product":{"data":{"type":"products","id":"1"}}}, "meta": {"cantidad": "2"}}
Started POST "/products/1/items" for ::1 at 2020-01-29 19:15:36 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>"1"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4781)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:17:07 -0300
  
ArgumentError (Unknown key: :defaul. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :foreign_type, :dependent, :primary_key, :inverse_of, :required, :polymorphic, :touch, :counter_cache, :optional, :default):
  
app/models/item.rb:9:in `<class:Item>'
app/models/item.rb:1:in `<main>'
app/resources/item_resource.rb:4:in `<class:ItemResource>'
app/resources/item_resource.rb:1:in `<main>'
config/routes.rb:14:in `block (2 levels) in <main>'
config/routes.rb:13:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/products/1/items" for ::1 at 2020-01-29 19:17:35 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>"1"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: wrong argument type Integer (expected Proc) /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/associations/builder/belongs_to.rb:101:in `block in add_default_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `instance_exec'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `block in make_lambda'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:607:in `block (2 levels) in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `block in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:202:in `block in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `block in invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:134:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_validation_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations/callbacks.rb:118:in `run_validations!'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations.rb:337:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:68:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:199:in `_save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:181:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:180:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:61:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 9854)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:17:54 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>"1"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
Internal Server Error: wrong argument type Integer (expected Proc) /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/associations/builder/belongs_to.rb:101:in `block in add_default_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `instance_exec'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `block in make_lambda'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:607:in `block (2 levels) in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `block in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:202:in `block in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `block in invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:134:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_validation_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations/callbacks.rb:118:in `run_validations!'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations.rb:337:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:68:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:199:in `_save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:181:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:180:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:61:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 9ms (Views: 0.7ms | ActiveRecord: 1.4ms | Allocations: 9817)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:18:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>1}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: wrong argument type Integer (expected Proc) /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/associations/builder/belongs_to.rb:101:in `block in add_default_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `instance_exec'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:429:in `block in make_lambda'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:201:in `block (2 levels) in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:607:in `block (2 levels) in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:606:in `block in default_terminator'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:202:in `block in halting'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `block in invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:514:in `invoke_before'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:134:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_validation_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations/callbacks.rb:118:in `run_validations!'
/home/nacho/.gem/ruby/2.6.5/gems/activemodel-6.0.1/lib/active_model/validations.rb:337:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:68:in `valid?'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:199:in `_save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:181:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:180:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:61:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2762)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:19:14 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"product"=>{"data"=>{"type"=>"products", "id"=>1}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 15ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 14872)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:26:07 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Internal Server Error: undefined method `sell_id=' for #<ItemResource:0x00007f60ec415808> /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:398:in `block in _replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:396:in `_replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:112:in `block in replace_fields'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:58:in `block (2 levels) in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:57:in `block in change'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:55:in `change'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/resource.rb:111:in `replace_fields'
/home/nacho/tpi_rails/app/processors/item_processor.rb:13:in `block in create_resource'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `times'
/home/nacho/tpi_rails/app/processors/item_processor.rb:11:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 8ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 8212)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:26:23 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 34ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 14890)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:27:31 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items", "relationships"=>{"sell"=>{"data"=>{"type"=>"sells", "id"=>"-1"}}}}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
Completed 400 Bad Request in 20ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 846)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:27:45 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 4647)


Started POST "/products/1/items" for ::1 at 2020-01-29 19:28:26 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"2"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-29 22:28:26.906676', '2020-01-29 22:28:26.906676', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-29 22:28:26.910591', '2020-01-29 22:28:26.910591', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 201 Created in 31ms (Views: 1.5ms | ActiveRecord: 9.5ms | Allocations: 16954)


Started POST "/users" for ::1 at 2020-01-29 20:47:42 -0300
  
ArgumentError (Unknown key: :if. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :foreign_type, :dependent, :primary_key, :inverse_of, :required, :polymorphic, :touch, :counter_cache, :optional, :default):
  
app/models/sell.rb:7:in `<class:Sell>'
app/models/sell.rb:1:in `<main>'
app/resources/sell_resource.rb:5:in `<class:SellResource>'
app/resources/sell_resource.rb:1:in `<main>'
config/routes.rb:17:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/users" for ::1 at 2020-01-29 20:49:35 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#create as JSON
  Parameters: {"{\"data\":{\"type\":\"users\", \"attributes\":{\"username\":\"user1\", \"password\":\"12345\"}}}"=>"[FILTERED]"}
Completed 415 Unsupported Media Type in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1562)


Started POST "/users" for ::1 at 2020-01-29 20:50:03 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user1", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:6:in `create_resource'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user1' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user1', '12345', '2020-01-29 23:50:03.868186', '2020-01-29 23:50:03.868186')[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 2)
Completed 201 Created in 16ms (Views: 1.1ms | ActiveRecord: 4.6ms | Allocations: 7532)


Started POST "/sessions" for ::1 at 2020-01-29 20:50:56 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms | Allocations: 2439)


Started POST "/sells" for ::1 at 2020-01-29 20:51:47 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}, "cliente-autonomo"=>{"data"=>{"type"=>"cliente_autonomos", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 11802)


Started POST "/sells" for ::1 at 2020-01-29 20:52:54 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 16121)


Started POST "/sells" for ::1 at 2020-01-29 20:53:29 -0300
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "attributes":{"tipo_cliente":"dependiente"} "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}, "meta":{"product1":{"product_id":1, "cantidad":4}}}
  
ActionDispatch::Http::Parameters::ParseError (767: unexpected token at '{ "data": { "type": "sells", "attributes":{"tipo_cliente":"dependiente"} "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}, "meta":{"product1":{"product_id":1, "cantidad":4}}}'):
  
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:115:in `rescue in parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:111:in `parse_formatted_parameters'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:381:in `block in POST'
rack (2.0.7) lib/rack/request.rb:59:in `fetch'
rack (2.0.7) lib/rack/request.rb:59:in `fetch_header'
actionpack (6.0.1) lib/action_dispatch/http/request.rb:380:in `POST'
actionpack (6.0.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:279:in `_wrapper_enabled?'
actionpack (6.0.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.1) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.1) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (6.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.1) lib/action_dispatch/routing/route_set.rb:837:in `call'
rack (2.0.7) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.7) lib/rack/etag.rb:25:in `call'
rack (2.0.7) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.7) lib/rack/head.rb:12:in `call'
actionpack (6.0.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.7) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.7) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.2.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{ "data": { "type": "sells", "attributes":{"tipo_cliente":"dependiente"} "relationships": {"user":{"data":{"type":"users","id":"1"}},"cliente-dependiente":{"data":{"type":"cliente_dependientes", "id":"1"}}}}, "meta":{"product1":{"product_id":1, "cantidad":4}}}
Started POST "/sells" for ::1 at 2020-01-29 20:54:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 7ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 1521)


Started POST "/sells" for ::1 at 2020-01-29 20:54:45 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 9ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 6447)


Started POST "/sells" for ::1 at 2020-01-29 20:56:03 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1512)


Started POST "/sells" for ::1 at 2020-01-29 20:57:57 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1512)


Started POST "/sells" for ::1 at 2020-01-29 21:00:42 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo_cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1524)


Started POST "/sells" for ::1 at 2020-01-29 21:01:04 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 13244)


Started POST "/sells" for ::1 at 2020-01-29 21:02:08 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:18:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 16492)


Started POST "/sells" for ::1 at 2020-01-29 21:02:49 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 16366)


Started POST "/sells" for ::1 at 2020-01-29 21:04:46 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 25ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 16356)


Started POST "/sells" for ::1 at 2020-01-29 21:05:49 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 16168)


Started POST "/sells" for ::1 at 2020-01-29 21:08:13 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 16399)


Started POST "/sells" for ::1 at 2020-01-29 21:09:34 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:22:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 28ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 16465)


Started POST "/sells" for ::1 at 2020-01-29 21:10:05 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 16318)


Started POST "/sells" for ::1 at 2020-01-29 21:12:06 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:12:06', '2020-01-30 00:12:06.315259', '2020-01-30 00:12:06.315259', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:56:in `evaluate_details_creation'
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 35ms (Views: 0.7ms | ActiveRecord: 8.2ms | Allocations: 24597)


Started POST "/sells" for ::1 at 2020-01-29 21:13:04 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:13:05', '2020-01-30 00:13:05.022397', '2020-01-30 00:13:05.022397', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:56:in `evaluate_details_creation'
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 37ms (Views: 1.7ms | ActiveRecord: 7.8ms | Allocations: 24510)


Started POST "/sells" for ::1 at 2020-01-29 21:14:05 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:14:05', '2020-01-30 00:14:05.666221', '2020-01-30 00:14:05.666221', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:57:in `evaluate_details_creation'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 35ms (Views: 0.6ms | ActiveRecord: 9.0ms | Allocations: 24509)


Started POST "/sells" for ::1 at 2020-01-29 21:14:36 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:14:36', '2020-01-30 00:14:36.640865', '2020-01-30 00:14:36.640865', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:57:in `evaluate_details_creation'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 35ms (Views: 0.6ms | ActiveRecord: 6.9ms | Allocations: 24515)


Started POST "/sells" for ::1 at 2020-01-29 21:14:56 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 16193)


Started POST "/sells" for ::1 at 2020-01-29 21:15:28 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:15:28', '2020-01-30 00:15:28.406012', '2020-01-30 00:15:28.406012', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:57:in `evaluate_details_creation'
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 85ms (Views: 19.0ms | ActiveRecord: 8.2ms | Allocations: 24302)


Started POST "/sells" for ::1 at 2020-01-29 21:16:08 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined local variable or method `cliente' for #<SellProcessor:0x00007f60ec2b2d30> /home/nacho/tpi_rails/app/processors/sell_processor.rb:15:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 13ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 10717)


Started POST "/sells" for ::1 at 2020-01-29 21:16:35 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>4}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:16:36', '2020-01-30 00:16:36.019349', '2020-01-30 00:16:36.019349', 1, 1, '{\"tipo-cliente\"=>\"dependiente\"}')[0m
  ↳ app/processors/sell_processor.rb:21:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:57:in `evaluate_details_creation'
  [1m[35m (36.7ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 67ms (Views: 0.7ms | ActiveRecord: 42.1ms | Allocations: 24550)


Started POST "/sells" for ::1 at 2020-01-29 21:17:08 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 00:17:08', '2020-01-30 00:17:08.818042', '2020-01-30 00:17:08.818042', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:54:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:56:in `evaluate_details_creation'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 7 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:45:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:45:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 00:17:08.840475', '2020-01-30 00:17:08.840475', 7, 1)[0m
  ↳ app/processors/sell_processor.rb:45:in `block (2 levels) in create_resource'
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 2)
Completed 202 Accepted in 50ms (Views: 1.1ms | ActiveRecord: 10.6ms | Allocations: 36198)


Started POST "/sells" for ::1 at 2020-01-29 22:44:45 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 4096)


Started POST "/sessions" for ::1 at 2020-01-29 22:45:26 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 1.5ms | Allocations: 4729)


Started POST "/sells" for ::1 at 2020-01-29 22:45:57 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 01:45:57', '2020-01-30 01:45:57.573783', '2020-01-30 01:45:57.573783', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:58:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:35:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 8 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 01:45:57.598185', '2020-01-30 01:45:57.598185', 8, 1)[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 202 Accepted in 47ms (Views: 0.5ms | ActiveRecord: 5.6ms | Allocations: 30897)


Started POST "/sells" for ::1 at 2020-01-29 22:49:00 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.3ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 01:49:00', '2020-01-30 01:49:00.719086', '2020-01-30 01:49:00.719086', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:57:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:59:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:35:in `block in create_resource'
  [1m[36mSell Load (0.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 9 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:48:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:48:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 01:49:00.745213', '2020-01-30 01:49:00.745213', 9, 1)[0m
  ↳ app/processors/sell_processor.rb:48:in `block (2 levels) in create_resource'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 58ms (Views: 0.5ms | ActiveRecord: 10.0ms | Allocations: 36597)


Started POST "/sells" for ::1 at 2020-01-29 22:50:29 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 01:50:29', '2020-01-30 01:50:29.600969', '2020-01-30 01:50:29.600969', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:58:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:60:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:35:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 10 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 01:50:29.623579', '2020-01-30 01:50:29.623579', 10, 1)[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
Internal Server Error: wrong number of arguments (given 0, expected 1) /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:616:in `update'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:49:in `block (3 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:46:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:46:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 60ms (Views: 1.4ms | ActiveRecord: 13.9ms | Allocations: 37850)


Started POST "/sells" for ::1 at 2020-01-29 22:52:24 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 01:52:24', '2020-01-30 01:52:24.444223', '2020-01-30 01:52:24.444223', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:58:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:60:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:35:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 11 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 01:52:24.473557', '2020-01-30 01:52:24.473557', 11, 1)[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:49:in `block (3 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:49:in `block (3 levels) in create_resource'
  [1m[36mItem Update (0.8ms)[0m  [1m[33mUPDATE `items` SET `items`.`sell_id` = 1, `items`.`state` = 'vendido', `items`.`updated_at` = '2020-01-30 01:52:24.478716' WHERE `items`.`id` = 1[0m
  ↳ app/processors/sell_processor.rb:49:in `block (3 levels) in create_resource'
Internal Server Error: Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`tpi_ttps2019_cazorla_development`.`items`, CONSTRAINT `fk_rails_9445c300e9` FOREIGN KEY (`sell_id`) REFERENCES `sells` (`id`)) /home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:202:in `block (2 levels) in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:211:in `execute_and_free'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:67:in `block in exec_delete'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:66:in `exec_delete'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:385:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:897:in `_update_row'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:919:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:336:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:124:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:906:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:470:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:47:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/suppressor.rb:44:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:621:in `block in update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:619:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:293:in `block in update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/delegation.rb:85:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/delegation.rb:85:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:293:in `update'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:49:in `block (3 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:46:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:46:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (5.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 64ms (Views: 0.9ms | ActiveRecord: 15.6ms | Allocations: 42586)


Started POST "/sells" for ::1 at 2020-01-29 22:54:41 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 01:54:42', '2020-01-30 01:54:42.028427', '2020-01-30 01:54:42.028427', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:58:in `evaluate_details_creation'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:60:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:35:in `block in create_resource'
  [1m[36mSell Load (0.6ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 12 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 01:54:42.059964', '2020-01-30 01:54:42.059964', 12, 1)[0m
  ↳ app/processors/sell_processor.rb:47:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:50:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:50:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.9ms)[0m  [1m[33mUPDATE `items` SET `items`.`sell_id` = 1, `items`.`state` = 'vendido', `items`.`updated_at` = '2020-01-30 01:54:42.065407' WHERE `items`.`id` = 1[0m
  ↳ app/processors/sell_processor.rb:50:in `block (2 levels) in create_resource'
Internal Server Error: Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`tpi_ttps2019_cazorla_development`.`items`, CONSTRAINT `fk_rails_9445c300e9` FOREIGN KEY (`sell_id`) REFERENCES `sells` (`id`)) /home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/home/nacho/.gem/ruby/2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:202:in `block (2 levels) in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block in execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:211:in `execute_and_free'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:67:in `block in exec_delete'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/mysql/database_statements.rb:66:in `exec_delete'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:385:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:897:in `_update_row'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:919:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:336:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:124:in `_update_record'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:906:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:470:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/validations.rb:47:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `block in save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:315:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/suppressor.rb:44:in `save'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:621:in `block in update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:619:in `update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:293:in `block in update'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/delegation.rb:85:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/delegation.rb:85:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/persistence.rb:293:in `update'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:50:in `block (2 levels) in create_resource'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:49:in `each'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:49:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:27:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (14.9ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 74ms (Views: 1.6ms | ActiveRecord: 26.8ms | Allocations: 42505)


Started POST "/sells" for ::1 at 2020-01-29 23:06:03 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms | Allocations: 7384)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:34: syntax error, unexpected *
            total = total +  * cantidad
                             ^):
  
app/processors/sell_processor.rb:34: syntax error, unexpected *
app/processors/sell_processor.rb:34: syntax error, unexpected *
app/processors/sell_processor.rb:34: syntax error, unexpected *
Started POST "/sells" for ::1 at 2020-01-29 23:06:29 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 02:06:29', '2020-01-30 02:06:29.813850', '2020-01-30 02:06:29.813850', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:62:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:33:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 13 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:49:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:49:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 02:06:29.837279', '2020-01-30 02:06:29.837279', 13, 1)[0m
  ↳ app/processors/sell_processor.rb:49:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:52:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 02:06:29.843123' WHERE `items`.`id` = 1[0m
  ↳ app/processors/sell_processor.rb:52:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:52:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.6ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 02:06:29.847817' WHERE `items`.`id` = 2[0m
  ↳ app/processors/sell_processor.rb:52:in `block (2 levels) in create_resource'
  [1m[35m (173.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 202 Accepted in 236ms (Views: 2.1ms | ActiveRecord: 183.8ms | Allocations: 42374)


DEPRECATION WARNING: Initialization autoloaded the constants ActionText::ContentHelper and ActionText::TagHelper.

Being able to do this is deprecated. Autoloading during initialization is going
to be an error condition in future versions of Rails.

Reloading does not reboot the application, and therefore code executed during
initialization does not run again. So, if you reload ActionText::ContentHelper, for example,
the expected changes won't be reflected in that stale Module object.

These autoloaded constants have been unloaded.

Please, check the "Autoloading and Reloading Constants" guide for solutions.
 (called from <main> at /home/nacho/tpi_rails/config/environment.rb:5)
Started POST "/sessions" for ::1 at 2020-01-30 12:04:15 -0300
  [1m[35m (47.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 34ms (ActiveRecord: 4.2ms | Allocations: 6228)


Started POST "/sells" for ::1 at 2020-01-30 12:05:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (4.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:05:01', '2020-01-30 15:05:01.171821', '2020-01-30 15:05:01.171821', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 39ms (Views: 0.6ms | ActiveRecord: 13.3ms | Allocations: 21258)


Started POST "/products/1/items" for ::1 at 2020-01-30 12:06:28 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:06:28.989177', '2020-01-30 15:06:28.989177', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:06:28.993350', '2020-01-30 15:06:28.993350', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.7ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:06:29.001253', '2020-01-30 15:06:29.001253', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:06:29.005146', '2020-01-30 15:06:29.005146', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 201 Created in 40ms (Views: 0.6ms | ActiveRecord: 6.9ms | Allocations: 16499)


Started POST "/sells" for ::1 at 2020-01-30 12:06:32 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:06:32', '2020-01-30 15:06:32.890123', '2020-01-30 15:06:32.890123', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 15 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.5ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:06:32.920138', '2020-01-30 15:06:32.920138', 15, 1)[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.8ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (8.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:06:32.935891' WHERE `items`.`id` = 3[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:06:32.947553' WHERE `items`.`id` = 4[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:06:32.951469' WHERE `items`.`id` = 5[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:06:32.955296' WHERE `items`.`id` = 6[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 202 Accepted in 82ms (Views: 0.5ms | ActiveRecord: 22.1ms | Allocations: 28120)


Started POST "/products/1/items" for ::1 at 2020-01-30 12:08:19 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:08:19.790643', '2020-01-30 15:08:19.790643', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:08:19.793811', '2020-01-30 15:08:19.793811', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (2.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:08:19.796959', '2020-01-30 15:08:19.796959', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.2ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:08:19.802548', '2020-01-30 15:08:19.802548', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 201 Created in 30ms (Views: 0.5ms | ActiveRecord: 8.6ms | Allocations: 21555)


Started POST "/sells" for ::1 at 2020-01-30 12:08:29 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:08:29', '2020-01-30 15:08:29.816097', '2020-01-30 15:08:29.816097', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 16 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:08:29.833095', '2020-01-30 15:08:29.833095', 16, 1)[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:08:29.847343' WHERE `items`.`id` = 7[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:08:29.850528' WHERE `items`.`id` = 8[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:08:29.853644' WHERE `items`.`id` = 9[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:08:29.856772' WHERE `items`.`id` = 10[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 2)
Completed 202 Accepted in 73ms (Views: 0.5ms | ActiveRecord: 10.2ms | Allocations: 42983)


Started POST "/sells" for ::1 at 2020-01-30 12:09:23 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:09:23', '2020-01-30 15:09:23.121893', '2020-01-30 15:09:23.121893', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 40ms (Views: 0.5ms | ActiveRecord: 10.3ms | Allocations: 24568)


Started POST "/products/1/items" for ::1 at 2020-01-30 12:10:23 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:10:23.901433', '2020-01-30 15:10:23.901433', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:10:23.904925', '2020-01-30 15:10:23.904925', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:10:23.908162', '2020-01-30 15:10:23.908162', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:10:23.911361', '2020-01-30 15:10:23.911361', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 25ms (Views: 0.6ms | ActiveRecord: 4.5ms | Allocations: 16270)


Started POST "/sells" for ::1 at 2020-01-30 12:10:27 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.6ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:10:27', '2020-01-30 15:10:27.119254', '2020-01-30 15:10:27.119254', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (1.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 18 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.7ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:10:27.145861', '2020-01-30 15:10:27.145861', 18, 1)[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mItem Load (1.2ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:10:27.183579' WHERE `items`.`id` = 11[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:10:27.187517' WHERE `items`.`id` = 12[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:10:27.190849' WHERE `items`.`id` = 13[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:10:27.194741' WHERE `items`.`id` = 14[0m
  ↳ app/processors/sell_processor.rb:60:in `block (2 levels) in create_resource'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 90ms (Views: 0.5ms | ActiveRecord: 13.4ms | Allocations: 36914)


Started POST "/products/1/items" for ::1 at 2020-01-30 12:23:11 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:23:12.012298', '2020-01-30 15:23:12.012298', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:23:12.015778', '2020-01-30 15:23:12.015778', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:23:12.019016', '2020-01-30 15:23:12.019016', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (1.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:23:12.032240', '2020-01-30 15:23:12.032240', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 2)
Completed 201 Created in 51ms (Views: 1.2ms | ActiveRecord: 13.0ms | Allocations: 21549)


Started POST "/sells" for ::1 at 2020-01-30 12:23:14 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:23:14', '2020-01-30 15:23:14.444680', '2020-01-30 15:23:14.444680', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (2.2ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible' LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 19 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:23:14.467500', '2020-01-30 15:23:14.467500', 19, 1)[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 60ms (Views: 0.5ms | ActiveRecord: 14.0ms | Allocations: 27234)


Started POST "/sells" for ::1 at 2020-01-30 12:27:18 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.0ms | Allocations: 7587)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected tLABEL
...items = Item.where[(product_id: id, state: 'disponible']).fi...
...                    ^~~~~~~~~~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
...ct_id: id, state: 'disponible']).first(cantidad)
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
          else
          ^~~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
          end
          ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
        end
        ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
      end
      ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'):
  
app/processors/sell_processor.rb:40: syntax error, unexpected tLABEL
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected tLABEL
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected tLABEL
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
Started POST "/sells" for ::1 at 2020-01-30 12:29:31 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.3ms | Allocations: 7590)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
...= Item.where[("product_id = ?", id and "state = ?", 'disponi...
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
...ct_id = ?", id and "state = ?", 'disponible']).first(cantida...
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
... and "state = ?", 'disponible']).first(cantidad)
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
          else
          ^~~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
          end
          ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
        end
        ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
      end
      ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'):
  
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
Started POST "/sells" for ::1 at 2020-01-30 12:30:26 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.1ms | Allocations: 7582)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
...= Item.where[(product_id == id, state == 'disponible']).firs...
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
...d == id, state == 'disponible']).first(cantidad)
...                              ^
/home/nacho/tpi_rails/app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
          else
          ^~~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
          end
          ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
        end
        ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
      end
      ^~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'):
  
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ',', expecting ')'
app/processors/sell_processor.rb:40: syntax error, unexpected ']', expecting ')'
app/processors/sell_processor.rb:48: syntax error, unexpected else, expecting ')'
app/processors/sell_processor.rb:51: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:61: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:63: syntax error, unexpected end, expecting ')'
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting ')'
Started POST "/sells" for ::1 at 2020-01-30 12:33:13 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:33:13', '2020-01-30 15:33:13.662345', '2020-01-30 15:33:13.662345', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
Internal Server Error: undefined method `%' for {:product_id=>1, :state=>"disponible"}:Hash /home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/sanitization.rb:133:in `sanitize_sql_array'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/sanitization.rb:26:in `sanitize_sql_for_conditions'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/where_clause_factory.rb:14:in `build'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/query_methods.rb:645:in `where!'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/relation/query_methods.rb:638:in `where'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/querying.rb:21:in `where'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:30:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 35ms (Views: 0.7ms | ActiveRecord: 8.0ms | Allocations: 26276)


Started POST "/sells" for ::1 at 2020-01-30 12:34:22 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 0.8ms | ActiveRecord: 0.9ms | Allocations: 4107)


Started POST "/sessions" for ::1 at 2020-01-30 12:34:50 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.8ms | Allocations: 4891)


Started POST "/sells" for ::1 at 2020-01-30 12:35:32 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:35:32', '2020-01-30 15:35:32.485863', '2020-01-30 15:35:32.485863', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
Internal Server Error: undefined local variable or method `product_id' for #<SellProcessor:0x00007f2b3c2b3e78>
Did you mean?  products /home/nacho/tpi_rails/app/processors/sell_processor.rb:40:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:30:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 55ms (Views: 0.9ms | ActiveRecord: 7.2ms | Allocations: 22504)


Started POST "/sells" for ::1 at 2020-01-30 12:38:21 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:38:21', '2020-01-30 15:38:21.295505', '2020-01-30 15:38:21.295505', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1) ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 22 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:38:21.339485', '2020-01-30 15:38:21.339485', 22, 1)[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 65ms (Views: 0.6ms | ActiveRecord: 9.5ms | Allocations: 36666)


Started POST "/sells" for ::1 at 2020-01-30 12:38:50 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:38:50', '2020-01-30 15:38:50.848522', '2020-01-30 15:38:50.848522', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1) ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 23 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:38:50.889224', '2020-01-30 15:38:50.889224', 23, 1)[0m
  ↳ app/processors/sell_processor.rb:56:in `block (2 levels) in create_resource'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 63ms (Views: 0.5ms | ActiveRecord: 13.2ms | Allocations: 36685)


Started POST "/sells" for ::1 at 2020-01-30 12:40:34 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:40:34', '2020-01-30 15:40:34.416460', '2020-01-30 15:40:34.416460', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:70:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
Internal Server Error: no implicit conversion of String into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:40:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:40:in `block in create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/strong_parameters.rb:214:in `each_key'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:30:in `create_resource'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:43:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:93:in `block (2 levels) in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/nacho/.rubies/ruby-2.6.5/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/transactions.rb:212:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:92:in `block in transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:42:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (3.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 42ms (Views: 0.8ms | ActiveRecord: 8.6ms | Allocations: 25305)


Started POST "/sells" for ::1 at 2020-01-30 12:45:01 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:45:01', '2020-01-30 15:45:01.973334', '2020-01-30 15:45:01.973334', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 25 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:45:02.018514', '2020-01-30 15:45:02.018514', 25, 1)[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 202 Accepted in 80ms (Views: 1.5ms | ActiveRecord: 11.4ms | Allocations: 36645)


Started POST "/sells" for ::1 at 2020-01-30 12:45:30 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:45:31', '2020-01-30 15:45:31.121274', '2020-01-30 15:45:31.121274', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 26 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:45:31.149366', '2020-01-30 15:45:31.149366', 26, 1)[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items`[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:45:31.175759' WHERE `items`.`id` = 15[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:45:31.179410' WHERE `items`.`id` = 16[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:45:31.182476' WHERE `items`.`id` = 17[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:45:31.185837' WHERE `items`.`id` = 18[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 89ms (Views: 0.7ms | ActiveRecord: 12.7ms | Allocations: 62297)


Started POST "/products/1/items" for ::1 at 2020-01-30 12:49:22 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:49:22.499161', '2020-01-30 15:49:22.499161', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (2.8ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:49:22.502563', '2020-01-30 15:49:22.502563', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:49:22.508557', '2020-01-30 15:49:22.508557', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 15:49:22.512094', '2020-01-30 15:49:22.512094', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 31ms (Views: 0.7ms | ActiveRecord: 8.8ms | Allocations: 21504)


Started POST "/sells" for ::1 at 2020-01-30 12:49:28 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.3ms | Allocations: 6661)


  
SyntaxError (/home/nacho/tpi_rails/app/processors/sell_processor.rb:59: syntax error, unexpected tIDENTIFIER, expecting end
...m.where("id = ?",item.id)update(state: item.state, sold_pric...
...                         ^~~~~~
/home/nacho/tpi_rails/app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting end-of-input):
  
app/processors/sell_processor.rb:59: syntax error, unexpected tIDENTIFIER, expecting end
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting end-of-input
app/processors/sell_processor.rb:59: syntax error, unexpected tIDENTIFIER, expecting end
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting end-of-input
app/processors/sell_processor.rb:59: syntax error, unexpected tIDENTIFIER, expecting end
app/processors/sell_processor.rb:135: syntax error, unexpected end, expecting end-of-input
Started POST "/sells" for ::1 at 2020-01-30 12:50:17 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.4ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 15:50:17', '2020-01-30 15:50:17.672962', '2020-01-30 15:50:17.672962', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 27 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 15:50:17.698444', '2020-01-30 15:50:17.698444', 27, 1)[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (id = 19)[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`updated_at` = '2020-01-30 15:50:17.704546' WHERE `items`.`id` = 19[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 53ms (Views: 0.7ms | ActiveRecord: 9.8ms | Allocations: 40213)


Started POST "/sells" for ::1 at 2020-01-30 13:01:32 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.6ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:01:32', '2020-01-30 16:01:32.973208', '2020-01-30 16:01:32.973208', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:67:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:69:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 28 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 16:01:32.995483', '2020-01-30 16:01:32.995483', 28, 1)[0m
  ↳ app/processors/sell_processor.rb:55:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (id = 20)[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`sell_id` = 28, `items`.`updated_at` = '2020-01-30 16:01:33.000995' WHERE `items`.`id` = 20[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 52ms (Views: 1.1ms | ActiveRecord: 6.4ms | Allocations: 39574)


Started POST "/sells" for ::1 at 2020-01-30 13:04:54 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
Internal Server Error: undefined method `meta' for nil:NilClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 6ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 4135)


Started POST "/sessions" for ::1 at 2020-01-30 13:05:15 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user1", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user1' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 1.4ms | Allocations: 4923)


Started POST "/sells" for ::1 at 2020-01-30 13:05:55 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:05:55', '2020-01-30 16:05:55.240886', '2020-01-30 16:05:55.240886', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:71:in `evaluate_details_creation'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:73:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE (id = 29)[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mSell Update (0.5ms)[0m  [1m[33mUPDATE `sells` SET `sells`.`total` = 199, `sells`.`updated_at` = '2020-01-30 16:05:55.267954' WHERE `sells`.`id` = 29[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 29 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.4ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 16:05:55.273893', '2020-01-30 16:05:55.273893', 29, 1)[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (id = 21)[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.5ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`sell_id` = 29, `items`.`updated_at` = '2020-01-30 16:05:55.279474' WHERE `items`.`id` = 21[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 66ms (Views: 0.5ms | ActiveRecord: 9.5ms | Allocations: 37911)


Started GET "/sells" for ::1 at 2020-01-30 13:12:21 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
Internal Server Error: undefined method `[]' for nil:NilClass /home/nacho/tpi_rails/app/controllers/sells_controller.rb:11:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:66:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 4ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 2384)


Started POST "/sells" for ::1 at 2020-01-30 13:16:54 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"1"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:19:in `create_resource'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mSell Create (0.7ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:16:54', '2020-01-30 16:16:54.787206', '2020-01-30 16:16:54.787206', 1, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:20:in `create_resource'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:71:in `evaluate_details_creation'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:73:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:40:in `block in create_resource'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE (id = 30)[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mSell Update (0.4ms)[0m  [1m[33mUPDATE `sells` SET `sells`.`total` = 199, `sells`.`updated_at` = '2020-01-30 16:16:54.809811' WHERE `sells`.`id` = 30[0m
  ↳ app/processors/sell_processor.rb:55:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 30 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 16:16:54.816591', '2020-01-30 16:16:54.816591', 30, 1)[0m
  ↳ app/processors/sell_processor.rb:59:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (id = 22)[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`sell_id` = 30, `items`.`updated_at` = '2020-01-30 16:16:54.822460' WHERE `items`.`id` = 22[0m
  ↳ app/processors/sell_processor.rb:63:in `block (2 levels) in create_resource'
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 66ms (Views: 0.6ms | ActiveRecord: 12.6ms | Allocations: 43247)


Started GET "/sells" for ::1 at 2020-01-30 13:17:48 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 1 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 19ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 17330)


Started POST "/users" for ::1 at 2020-01-30 13:28:10 -0300
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#create as JSON
  Parameters: {"{\"data\":{\"type\":\"users\", \"attributes\":{\"username\":\"user2\", \"password\":\"12345\"}}}"=>"[FILTERED]"}
Completed 415 Unsupported Media Type in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 619)


Started POST "/users" for ::1 at 2020-01-30 13:28:50 -0300
Processing by UsersController#create as JSON
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"username"=>"user2", "password"=>"[FILTERED]"}}, "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = BINARY 'user2' LIMIT 1[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO `users` (`username`, `password`, `created_at`, `updated_at`) VALUES ('user2', '12345', '2020-01-30 16:28:50.482744', '2020-01-30 16:28:50.482744')[0m
  ↳ app/processors/user_processor.rb:7:in `create_resource'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 4.3ms | Allocations: 7082)


Started POST "/sells" for ::1 at 2020-01-30 13:29:16 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"2"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mSell Create (0.9ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:29:16', '2020-01-30 16:29:16.370630', '2020-01-30 16:29:16.370630', 2, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:66:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 37ms (Views: 1.8ms | ActiveRecord: 9.6ms | Allocations: 15053)


Started POST "/sessions" for ::1 at 2020-01-30 13:29:32 -0300
Processing by SessionsController#create as JSON
  Parameters: {"data"=>{"type"=>"sessions"}, "u"=>"user2", "p"=>"12345", "session"=>{"data"=>{"type"=>"sessions"}, "u"=>"user2", "p"=>"12345"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'user2' LIMIT 1[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
No template found for SessionsController#create, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 1.1ms | Allocations: 1077)


Started POST "/sells" for ::1 at 2020-01-30 13:30:16 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"2"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mSell Create (0.5ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:30:16', '2020-01-30 16:30:16.200417', '2020-01-30 16:30:16.200417', 2, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:66:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Internal Server Error: undefined method `meta' for false:FalseClass /home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:41:in `block in top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:40:in `top_level_meta'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/response_document.rb:14:in `contents'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:227:in `render_results'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:78:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:29:in `create'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 19ms (Views: 0.9ms | ActiveRecord: 3.5ms | Allocations: 8245)


Started POST "/products/1/items" for ::1 at 2020-01-30 13:30:36 -0300
Processing by ItemsController#create as JSON
  Parameters: {"data"=>{"type"=>"items"}, "meta"=>{"cantidad"=>"4"}, "product_id"=>"1", "item"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/item_processor.rb:12:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.9ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 16:30:36.831876', '2020-01-30 16:30:36.831876', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 16:30:36.836558', '2020-01-30 16:30:36.836558', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (3.0ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 16:30:36.840295', '2020-01-30 16:30:36.840295', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO `items` (`state`, `created_at`, `updated_at`, `product_id`) VALUES ('disponible', '2020-01-30 16:30:36.846617', '2020-01-30 16:30:36.846617', 1)[0m
  ↳ app/processors/item_processor.rb:13:in `block in create_resource'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 201 Created in 30ms (Views: 0.5ms | ActiveRecord: 8.0ms | Allocations: 16275)


Started POST "/sells" for ::1 at 2020-01-30 13:30:39 -0300
Processing by SellsController#create as JSON
  Parameters: {"data"=>{"type"=>"sells", "attributes"=>{"tipo-cliente"=>"dependiente"}, "relationships"=>{"user"=>{"data"=>{"type"=>"users", "id"=>"2"}}, "cliente-dependiente"=>{"data"=>{"type"=>"cliente_dependientes", "id"=>"1"}}}}, "meta"=>{"product1"=>{"product_id"=>1, "cantidad"=>1}}, "sell"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mSell Create (0.6ms)[0m  [1m[32mINSERT INTO `sells` (`date`, `created_at`, `updated_at`, `user_id`, `cliente_dependiente_id`, `tipo_cliente`) VALUES ('2020-01-30 16:30:39', '2020-01-30 16:30:39.043393', '2020-01-30 16:30:39.043393', 2, 1, 'dependiente')[0m
  ↳ app/processors/sell_processor.rb:16:in `create_resource'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:66:in `evaluate_details_creation'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `items` WHERE `items`.`product_id` = 1 AND `items`.`state` = 'disponible'[0m
  ↳ app/processors/sell_processor.rb:68:in `evaluate_details_creation'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/processors/sell_processor.rb:32:in `block in create_resource'
  [1m[36mItem Load (2.0ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (product_id = 1 AND state = 'disponible') ORDER BY `items`.`id` ASC LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:36:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE (id = 33)[0m
  ↳ app/processors/sell_processor.rb:50:in `block in create_resource'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:50:in `block in create_resource'
  [1m[36mSell Update (0.4ms)[0m  [1m[33mUPDATE `sells` SET `sells`.`total` = 199, `sells`.`updated_at` = '2020-01-30 16:30:39.067373' WHERE `sells`.`id` = 33[0m
  ↳ app/processors/sell_processor.rb:50:in `block in create_resource'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`id` = 33 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:54:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:54:in `block (2 levels) in create_resource'
  [1m[36mDetail Create (0.3ms)[0m  [1m[32mINSERT INTO `details` (`number_of_items`, `created_at`, `updated_at`, `sell_id`, `product_id`) VALUES (1, '2020-01-30 16:30:39.085840', '2020-01-30 16:30:39.085840', 33, 1)[0m
  ↳ app/processors/sell_processor.rb:54:in `block (2 levels) in create_resource'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT `items`.* FROM `items` WHERE (id = 23)[0m
  ↳ app/processors/sell_processor.rb:58:in `block (2 levels) in create_resource'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ↳ app/processors/sell_processor.rb:58:in `block (2 levels) in create_resource'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE `items` SET `items`.`state` = 'vendido', `items`.`sold_price` = 199, `items`.`sell_id` = 33, `items`.`updated_at` = '2020-01-30 16:30:39.091550' WHERE `items`.`id` = 23[0m
  ↳ app/processors/sell_processor.rb:58:in `block (2 levels) in create_resource'
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 202 Accepted in 70ms (Views: 0.4ms | ActiveRecord: 12.8ms | Allocations: 22196)


Started GET "/sells" for ::1 at 2020-01-30 13:31:12 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (1.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 200 OK in 18ms (Views: 1.4ms | ActiveRecord: 2.7ms | Allocations: 2962)


Started GET "/sells" for ::1 at 2020-01-30 13:38:01 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: no implicit conversion of Array into String /home/nacho/tpi_rails/app/processors/sell_processor.rb:125:in `+'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:125:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 15ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 13302)


Started GET "/sells" for ::1 at 2020-01-30 13:38:30 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 4.8ms | Allocations: 13763)


Started GET "/sells" for ::1 at 2020-01-30 13:40:50 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:127:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 17ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 13903)


Started GET "/sells" for ::1 at 2020-01-30 13:42:16 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: no implicit conversion of Symbol into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 26ms (Views: 1.0ms | ActiveRecord: 2.8ms | Allocations: 13868)


Started GET "/sells" for ::1 at 2020-01-30 13:50:27 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.5ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: no implicit conversion of String into Integer /home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `[]'
/home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 18ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 13676)


Started GET "/sells" for ::1 at 2020-01-30 13:51:02 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: undefined local variable or method `date' for #<SellProcessor:0x00007f2b3c0dee18>
Did you mean?  data /home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 17ms (Views: 0.6ms | ActiveRecord: 2.4ms | Allocations: 15351)


Started GET "/sells" for ::1 at 2020-01-30 13:51:48 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: undefined method `date' for #<Array:0x00007f2b3c1a18c8> /home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 25ms (Views: 8.3ms | ActiveRecord: 2.4ms | Allocations: 15682)


Started GET "/sells" for ::1 at 2020-01-30 13:52:09 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 35ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 13806)


Started GET "/sells" for ::1 at 2020-01-30 13:52:32 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 18ms (Views: 0.6ms | ActiveRecord: 3.1ms | Allocations: 13742)


Started GET "/sells" for ::1 at 2020-01-30 13:52:54 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.3ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
Internal Server Error: undefined method `date' for #<Array:0x00007f2b540348d8> /home/nacho/tpi_rails/app/processors/sell_processor.rb:129:in `find'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:58:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:57:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/processor.rb:56:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation.rb:16:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:58:in `block in process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:63:in `with_default_handling'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:57:in `process_operation'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:29:in `block (2 levels) in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:28:in `block in process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:46:in `transaction'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/operation_dispatcher.rb:24:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:86:in `block in process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:85:in `process_operations'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:77:in `process_request'
/home/nacho/.gem/ruby/2.6.5/gems/jsonapi-resources-0.9.9/lib/jsonapi/acts_as_resource_controller.rb:16:in `index'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:196:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rendering.rb:30:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/callbacks.rb:41:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/rescue.rb:22:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `block in instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/notifications.rb:180:in `instrument'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/abstract_controller/base.rb:136:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionview-6.0.1/lib/action_view/rendering.rb:39:in `process'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:191:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_controller/metal.rb:252:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `each'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/routing/route_set.rb:837:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/tempfile_reaper.rb:15:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/conditional_get.rb:25:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:232:in `context'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/session/abstract/id.rb:226:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activerecord-6.0.1/lib/active_record/migration.rb:567:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:132:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:28:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `catch'
/home/nacho/.gem/ruby/2.6.5/gems/web-console-4.0.1/lib/web_console/middleware.rb:17:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:38:in `call_app'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `block in call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/rack/logger.rb:26:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/method_override.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/activesupport-6.0.1/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/static.rb:126:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/actionpack-6.0.1/lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/webpacker-4.2.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/home/nacho/.gem/ruby/2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/railties-6.0.1/lib/rails/engine.rb:526:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/configuration.rb:228:in `call'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:681:in `handle_request'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:472:in `process_client'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/server.rb:328:in `block in run'
/home/nacho/.gem/ruby/2.6.5/gems/puma-4.3.1/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 26ms (Views: 0.6ms | ActiveRecord: 3.1ms | Allocations: 15420)


Started GET "/sells" for ::1 at 2020-01-30 13:53:25 -0300
Processing by SellsController#index as JSON
  Parameters: {"sell"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/sessions_handling.rb:4:in `is_authenticated?'
  [1m[36mSell Load (0.4ms)[0m  [1m[34mSELECT `sells`.* FROM `sells` WHERE `sells`.`user_id` = 2 ORDER BY `sells`.`id` ASC[0m
  ↳ app/processors/sell_processor.rb:106:in `find'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 25ms (Views: 0.5ms | ActiveRecord: 2.6ms | Allocations: 13777)


